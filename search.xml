<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>é£æ ¼è¿ç§»</title>
    <link href="/jasonyang.github.io/2021/11/30/%E9%A3%8E%E6%A0%BC%E8%BF%81%E7%A7%BB/"/>
    <url>/jasonyang.github.io/2021/11/30/%E9%A3%8E%E6%A0%BC%E8%BF%81%E7%A7%BB/</url>
    
    <content type="html"><![CDATA[<h2 id="é£æ ¼è¿ç§»">é£æ ¼è¿ç§»</h2><hr><h3 id="1-ä»€ä¹ˆæ˜¯é£æ ¼è¿ç§»">1. ä»€ä¹ˆæ˜¯é£æ ¼è¿ç§»</h3><h4 id="1-1-é£æ ¼è¿ç§»ä»»åŠ¡ä»‹ç»">1.1 é£æ ¼è¿ç§»ä»»åŠ¡ä»‹ç»</h4><hr><p>ç®€è€Œè¨€ä¹‹ï¼Œé£æ ¼è¿ç§»å³æ˜¯å°†ä¸€ç§å›¾åƒçš„ç”»é£ï¼ˆé¢œè‰²ã€çº¹ç†ç­‰ï¼‰èåˆåˆ°å¦ä¸€å¹…å›¾åƒä¸­ï¼Œä½¿å¾—èåˆåçš„å›¾åƒèƒ½å¤Ÿä»¥é£æ ¼å›¾åƒçš„è‰²å½©é£æ ¼å‘ˆç°åŸå§‹å›¾åƒçš„å†…å®¹ï¼ˆä»»åŠ¡ã€æ™¯ç‰©ç­‰å‰æ™¯ï¼‰ã€‚å…·ä½“ç¤ºä¾‹å¯è§ä¸‹æ–¹å›¾ç¤ºã€‚</p><center class="half">    <img src="style.png" style="zoom:50%;"><img src="content.png" style="zoom:50%;"></center><img src="fuse.png" style="zoom:50%;"><p>å‘é£æ ¼è¿ç§»ç½‘ç»œä¸­è¾“å…¥é£æ ¼å›¾åƒ<code>style</code>å’Œå†…å®¹å›¾åƒ<code>content</code>ï¼Œç½‘ç»œä¾¿ä¼šè¾“å‡ºèåˆ<code>style</code>å’Œ<code>content</code>çš„æ–°å›¾åƒ<code>style transfer</code>ã€‚</p><h4 id="1-2-é£æ ¼è¿ç§»ç½‘ç»œ">1.2 é£æ ¼è¿ç§»ç½‘ç»œ</h4><hr><p>åŸºäºæ·±åº¦å­¦ä¹ çš„é£æ ¼è¿ç§»ä»»åŠ¡çš„éš¾ç‚¹åœ¨äºå¦‚ä½•åº¦é‡å›¾ç‰‡çš„é£æ ¼ï¼Œå¦‚è‹¥æ‰¾åˆ°ä¸€ç§å¯ä»¥åº¦é‡å›¾åƒé£æ ¼çš„æ•°å­¦æ¨¡å‹ï¼Œä¾¿å¯ä»¥åŸºäºåå‘ä¼ æ’­è®­ç»ƒé£æ ¼è¿ç§»ç½‘ç»œï¼Œä»¥è¾¾åˆ°è‰¯å¥½çš„é£æ ¼è¿ç§»æ•ˆæœã€‚</p><ol><li>Gram Matrix</li></ol><p>2015å¹´Gatysåˆ©ç”¨Gram Matrixå®ç°äº†å›¾åƒé£æ ¼çš„å®šé‡è®¡ç®—æ–¹æ³•ï¼Œç°åœ¨å¤§å¤šæ•°å›¾åƒé£æ ¼è¿ç§»çš„é£æ ¼åº¦é‡å‡é‡‡ç”¨Gram Matrixæˆ–è€…Gram Matrixçš„æ”¹è¿›ç‰ˆæœ¬ã€‚å› ä¸ºæœ¬æ–‡æ‰€ç”¨é£æ ¼åº¦é‡æ–¹æ³•ä¹Ÿæ˜¯åŸºäºGram Matrixçš„ï¼Œäºæ˜¯å…ˆç®€å•ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯Gram Matrixã€‚</p><img src="gram.png" alt="gram" style="zoom: 25%;"><p>å½“è¾“å…¥ä¸€å¹…å›¾åƒï¼ˆ<code>2xWxH</code>ï¼‰è¿›å…¥å·ç§¯ç¥ç»ç½‘ç»œæ—¶ï¼Œå›¾åƒç»è¿‡å·ç§¯å±‚ä¼šå¾—åˆ°<code>CxWxH</code>çš„å›¾åƒç‰¹å¾ï¼Œåœ¨ç‰¹å¾çš„æ¯ä¸ªé€šé“ç‰¹å¾<code>1xWxH</code>ä¸Šä¿ç•™äº†å›¾åƒçš„é«˜è¯­ä¹‰ç‰¹å¾ï¼ˆåŒ…æ‹¬å†…å®¹å’Œé£æ ¼ï¼‰ï¼Œä½†æ˜¯ä¸åŒé€šé“ä¹‹é—´çš„å­¦ä¹ åˆ°çš„ç‰¹å¾å†…å®¹æ˜¯ä¸åŒã€‚æ¯”å¦‚è¾“å…¥æ˜¯ä¸€å¹…äººè„¸å›¾åƒï¼Œç»è¿‡å·ç§¯ç½‘ç»œä¹‹åå¯èƒ½é€šé“1å­¦ä¹ åˆ°äº†äººè„¸é¼»å­ç‰¹å¾ï¼Œè€Œé€šé“2å­¦ä¹ åˆ°äº†çœ¼ç›ç‰¹å¾ï¼Œå®ƒä»¬çš„ç‰¹å¾ä¸»ä½“æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†åŒæ—¶ä»–ä»¬æ¥æºäºåŒä¸€å¹…å›¾åƒï¼Œä»–ä»¬çš„é£æ ¼åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œç”±æ­¤Gatysé€šè¿‡è®¡ç®—ä¸åŒé€šé“ç‰¹å¾å‘é‡<code>W*H</code>çš„çš„åæ–¹å·®çŸ©é˜µï¼ˆ<code>CxC</code>ï¼‰å®šé‡åˆ»ç”»å›¾åƒçš„é£æ ¼ã€‚å…·ä½“åšæ³•æ˜¯å°†å·ç§¯ç½‘ç»œä¸­ç‰¹å¾å›¾æ¯ä¸ªé€šé“çš„ç‰¹å¾reshapeæˆä¸€ä¸ªå‘é‡ï¼ˆ<code>1xWxH-&gt;1xWH</code>ï¼‰ç„¶åè®¡ç®—ä¸åŒé€šé“ç‰¹å¾çš„ï¼ˆåå¿ƒï¼‰åæ–¹å·®çŸ©é˜µï¼Œè¿™ä¸ªå°±çŸ©é˜µå°±æ˜¯Gram Matrixã€‚æ“ä½œç¤ºæ„å›¾å¦‚ä¸Šæ‰€ç¤ºï¼ˆå›¾æº<a href="https://blog.csdn.net/Hi_maxin/article/details/84979580?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E9%A3%8E%E6%A0%BC%E8%BF%81%E7%A7%BBgram&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-84979580.first_rank_v2_pc_rank_v29&amp;spm=1018.2226.3001.4187">CSDN</a>ï¼‰ï¼š</p><ol start="2"><li>é£æ ¼è½¬æ¢ç½‘ç»œç»“æ„</li></ol><p>ä½¿ç”¨çš„é£æ ¼è½¬æ¢ç½‘ç»œæ¥æºäºCuiçš„ã€ŠMulti-style Transfer: Generalizing Fast Style Transfer to Several Genresã€‹ï¼Œç½‘ç»œç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºã€‚</p><img src="transnet.png" style="zoom: 50%;"><p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°é£æ ¼è½¬æ¢ç½‘ç»œç”±ä¸¤ä¸ªç½‘ç»œæ‹¼æ¥è€Œæˆï¼Œ<code>Image Transform Net</code>ç”¨äºå‘é™Œç”Ÿçš„å›¾åƒèåˆå­¦ä¹ åˆ°çš„é£æ ¼ç‰¹å¾ï¼›<code>Loss Network</code>ä»…ç”¨åœ¨ç½‘ç»œè®­ç»ƒé˜¶æ®µï¼Œå€Ÿç”¨<code>Loss Network</code>ä»¥å¾—åˆ°å›¾åƒçš„å†…å®¹æŸå¤±å’Œé£æ ¼æŸå¤±ï¼Œä»¥æ­¤æ›´æ–°æ¨¡å‹å‚æ•°ã€‚å…·ä½“è€Œè¨€ï¼Œè¾“å…¥é™Œç”Ÿå›¾ç‰‡$x$ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ä¹Ÿæ˜¯å†…å®¹å›¾åƒï¼‰ï¼Œç»è¿‡<code>Image Transform Net</code>å¾—åˆ°èåˆæ–°é£æ ¼çš„å›¾åƒ$\hat{y}$ï¼Œç„¶åå°†é£æ ¼è¿ç§»åå›¾åƒ$\hat{y}$ã€é£æ ¼å›¾åƒ$y_{s}$å’Œå†…å®¹å›¾åƒï¼ˆä¹Ÿå³åŸå§‹å›¾åƒï¼‰$y_{c}$åˆ†åˆ«é€å…¥<code>Loss Network</code>ï¼Œ<code>Loss Network</code>æ˜¯VGG-16çš„ç‰¹å¾æå–ç½‘ç»œã€‚åˆ†åˆ«ä¿å­˜ä¸‰å¹…å›¾åƒåœ¨å‰ã€åå·ç§¯å±‚çš„è¾“å‡ºå“åº”ï¼ˆç‰¹å¾å›¾ï¼‰ï¼Œé’ˆå¯¹é£æ ¼è¿ç§»åå›¾åƒ$\hat{y}$å’Œé£æ ¼å›¾åƒ$y_{s}$åˆ†åˆ«è®¡ç®—å…¶Gram Matrixï¼Œç„¶ååˆ©ç”¨<code>MSELoss()</code>åº¦é‡é£æ ¼å·®å¼‚ï¼›é’ˆå¯¹é£æ ¼è¿ç§»åå›¾åƒ$\hat{y}$å’Œå†…å®¹å›¾åƒ$y_{c}$ç›´æ¥ä½¿ç”¨<code>MSELoss()</code>åº¦é‡å›¾åƒä¹‹é—´ç‰¹å¾ä¸»ä½“çš„å·®å¼‚ã€‚</p><h3 id="2-åŸºäºPytorchçš„å¿«é€Ÿé£æ ¼è¿ç§»å®ä¾‹">2. åŸºäºPytorchçš„å¿«é€Ÿé£æ ¼è¿ç§»å®ä¾‹</h3><hr><blockquote><p>ç¯å¢ƒï¼šwindows 10 + RTX3060 + CUDA 11.4</p></blockquote><blockquote><p>requirementsï¼š</p></blockquote><figure class="highlight tcl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs tcl">matplotlib==<span class="hljs-number">3.4</span><span class="hljs-number">.3</span><br>numpy==<span class="hljs-number">1.21</span><span class="hljs-number">.4</span><br>Pillow==<span class="hljs-number">8.4</span><span class="hljs-number">.0</span><br>torch==<span class="hljs-number">1.10</span><span class="hljs-number">.0</span><br>torchvision==<span class="hljs-number">0.11</span><span class="hljs-number">.1</span><br>tqdm==<span class="hljs-number">4.62</span><span class="hljs-number">.3</span><br></code></pre></td></tr></tbody></table></figure><blockquote><p>ä»£ç ä¸»è¦å‚è€ƒ:<a href="https://blog.csdn.net/weixin_48866452/article/details/109309245">https://blog.csdn.net/weixin_48866452/article/details/109309245</a></p></blockquote><hr><h4 id="2-1-æ•°æ®é›†æ„å»º">2.1 æ•°æ®é›†æ„å»º</h4><hr><p>å¯¹äºé£æ ¼è¿ç§»ä»»åŠ¡æ¥è¯´è®­ç»ƒæ ·æœ¬ä¸éœ€è¦å¤ªå¤šï¼Œæœ€å°‘ä¸¤å¼ å›¾ç‰‡ä¾¿å¯å®Œæˆé£æ ¼è½¬æ¢çš„è®­ç»ƒã€‚æœ¬æ¬¡é€‰å–äº†3å¼ é£æ ¼å›¾ç‰‡ä¸6å¼ å†…å®¹å›¾ç‰‡æ„å»ºé£æ ¼è¿ç§»çš„æ•°æ®é›†ã€‚é£æ ¼å’Œå†…å®¹å›¾ç‰‡ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p><img src="datas.png" alt=""></p><p><img src="datac.png" alt=""></p><blockquote><p>æ ·æœ¬å›¾ç‰‡æ¥è‡ªäºè¿™ä¸ª<a href="https://github.com/irasin/Pytorch_Style_Swap/tree/master">GitHubä»“åº“</a>ã€‚</p></blockquote><p>å…·ä½“çš„å†…å®¹æ•°æ®é›†åŠ è½½æ–¹å¼å¦‚ä¸‹æ–¹ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Content_Dataset</span>(<span class="hljs-params">data.Dataset</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:</span><br>        <span class="hljs-built_in">super</span>(Content_Dataset, self).__init__()<br>        r_path = <span class="hljs-string">'dataset/content/'</span> <span class="hljs-comment"># å­˜æ”¾å†…å®¹å›¾ç‰‡çš„è·¯å¾„</span><br>        c_img_name = os.listdir(r_path)<br>        self.c_img_path = [r_path+i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> c_img_name]<br>        self.transforms = T.Compose([<br>            T.Resize((<span class="hljs-number">512</span>, <span class="hljs-number">512</span>)),<br>            T.ToTensor(),<br>        ])<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__getitem__</span>(<span class="hljs-params">self, index</span>):</span><br>        c_img = Image.<span class="hljs-built_in">open</span>(self.c_img_path[index])<br>        <br>        <span class="hljs-keyword">return</span> self.transforms(c_img)<br>        <br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__len__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.c_img_path)<br><br></code></pre></td></tr></tbody></table></figure><h4 id="2-2-é£æ ¼è¿ç§»ç½‘ç»œ">2.2 é£æ ¼è¿ç§»ç½‘ç»œ</h4><hr><p>è¿ç§»ç½‘ç»œé‡‡ç”¨è‡ªç¼–ç ç»“æ„ï¼Œå…ˆç”¨å·ç§¯å°†å›¾åƒå°ºåº¦ç¼©å°å¹¶å­¦ä¹ é«˜è¯­ä¹‰ç‰¹å¾ï¼Œå†åˆ©ç”¨ä¸Šé‡‡æ ·å°†å›¾åƒå°ºåº¦æ”¾å¤§ï¼Œä¿è¯å›¾åƒé£æ ¼å˜æ¢å‰åå¤§å°ä¸å˜ã€‚è¿ç§»ç½‘ç»œçš„Pytorchå®ç°å¦‚ä¸‹ï¼š</p><ol><li>TransNet</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResBlock</span>(<span class="hljs-params">nn.Module</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, channels</span>):</span><br>        <span class="hljs-built_in">super</span>(ResBlock, self).__init__()<br>        self.layer = nn.Sequential(<br>            nn.Conv2d(channels, channels, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.InstanceNorm2d(channels), <span class="hljs-comment"># åœ¨å›¾åƒåƒç´ ä¸Šï¼Œå¯¹æ¯ä¸ªé€šé“çš„HWåšå½’ä¸€åŒ–ã€‚</span><br>            nn.ReLU(),<br>            nn.Conv2d(channels, channels, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.InstanceNorm2d(channels)<br>        )<br>        self.relu = nn.ReLU()<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">forward</span>(<span class="hljs-params">self, x</span>):</span><br>        <span class="hljs-keyword">return</span> self.relu(self.layer(x)+x)<br>    <br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TransNet</span>(<span class="hljs-params">nn.Module</span>):</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">super</span>(TransNet, self).__init__()<br>        self.layer = nn.Sequential(<br>            nn.Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">32</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.InstanceNorm2d(<span class="hljs-number">32</span>),<br>            nn.ReLU(),<br>            nn.Conv2d(<span class="hljs-number">32</span>,<span class="hljs-number">64</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.InstanceNorm2d(<span class="hljs-number">64</span>),<br>            nn.ReLU(),<br>            nn.Conv2d(<span class="hljs-number">64</span>, <span class="hljs-number">128</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.InstanceNorm2d(<span class="hljs-number">128</span>),<br>            nn.ReLU(),<br>            ResBlock(<span class="hljs-number">128</span>),<br>            ResBlock(<span class="hljs-number">128</span>),<br>            ResBlock(<span class="hljs-number">128</span>),<br>            ResBlock(<span class="hljs-number">128</span>),<br>            ResBlock(<span class="hljs-number">128</span>),<br>            nn.Upsample(scale_factor=<span class="hljs-number">2</span>, mode=<span class="hljs-string">'nearest'</span>),<br>            nn.Conv2d(<span class="hljs-number">128</span>,<span class="hljs-number">64</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.InstanceNorm2d(<span class="hljs-number">64</span>),<br>            nn.ReLU(),<br>            nn.Upsample(scale_factor=<span class="hljs-number">2</span>, mode=<span class="hljs-string">'nearest'</span>),<br>            nn.Conv2d(<span class="hljs-number">64</span>, <span class="hljs-number">32</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.InstanceNorm2d(<span class="hljs-number">32</span>),<br>            nn.ReLU(),<br>            nn.Conv2d(<span class="hljs-number">32</span>,<span class="hljs-number">3</span>,<span class="hljs-number">9</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>),<br>            nn.Sigmoid()<br>        )<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">forward</span>(<span class="hljs-params">self, x</span>):</span><br>        <span class="hljs-keyword">return</span> self.layer(x)<br></code></pre></td></tr></tbody></table></figure><ol start="2"><li>LossNet</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vgg16</span>(<span class="hljs-params">nn.Module</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:</span><br>        <span class="hljs-built_in">super</span>(Vgg16, self).__init__()<br>        <span class="hljs-comment"># ç›´æ¥åŠ è½½é¢„è®­ç»ƒçš„VGG16ç½‘ç»œæå–å›¾åƒç‰¹å¾</span><br>        loss_net = M.vgg16(pretrained=<span class="hljs-literal">True</span>)<br>        loss_net = loss_net.features<br>        self.feature1 = loss_net[:<span class="hljs-number">4</span>]<br>        self.feature2 = loss_net[<span class="hljs-number">4</span>:<span class="hljs-number">9</span>]<br>        self.feature3 = loss_net[<span class="hljs-number">9</span>:<span class="hljs-number">16</span>]<br>        self.feature4 = loss_net[<span class="hljs-number">16</span>:<span class="hljs-number">23</span>]<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">forward</span>(<span class="hljs-params">self, x</span>):</span><br>        feature1 = self.feature1(x)<br>        feature2 = self.feature2(feature1)<br>        feature3 = self.feature3(feature2)<br>        feature4 = self.feature4(feature3)<br><br>        <span class="hljs-keyword">return</span> feature1, feature2, feature3, feature4<br>    <br></code></pre></td></tr></tbody></table></figure><h4 id="2-3-å¿…è¦çš„å·¥å…·å‡½æ•°">2.3 å¿…è¦çš„å·¥å…·å‡½æ•°</h4><hr><p>å› ä¸ºé£æ ¼è¿ç§»æ²¡æœ‰å®šé‡è¯„ä¼°è¿ç§»å¥½åçš„æŒ‡æ ‡ï¼ˆä¸€èˆ¬éƒ½æ˜¯é€šè¿‡äººçœ¼è‡ªè¡Œè§‚å¯Ÿé£æ ¼è¿ç§»ç»“æœå»ç¡®å®šè¿ç§»æ€§èƒ½ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œçš„å·¥å…·å‡½æ•°ç›®å‰åŒ…æ‹¬GramçŸ©é˜µçš„è®¡ç®—å‡½æ•°å’Œè®­ç»ƒè¿‡ç¨‹å¯è§†åŒ–å‡½æ•°ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å®šä¹‰gramçŸ©é˜µ</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_gram_matrix</span>(<span class="hljs-params">feature_map</span>):</span><br>    n, c, h, w = feature_map.shape<br>    feature_map = feature_map.reshape(n*c, h*w)<br>    gram_matrix = t.mm(feature_map, feature_map.t())<br>    <span class="hljs-keyword">return</span> gram_matrix.div(n*c*h*w)<br></code></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®­ç»ƒè¿‡ç¨‹æŸå¤±å¯è§†åŒ–</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">training_process_visualization</span>(<span class="hljs-params">data</span>):</span><br>    style_loss = data[<span class="hljs-string">'style_loss'</span>]<br>    content_loss = data[<span class="hljs-string">'content_loss'</span>]<br>    total_loss = data[<span class="hljs-string">'total_loss'</span>]<br><br>    plt.figure(<span class="hljs-number">1</span>)<br>    plt.plot(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(content_loss)), content_loss)<br>    plt.title(<span class="hljs-string">'content_loss'</span>)<br>    plt.ylabel(<span class="hljs-string">'content_loss'</span>)<br>    plt.xlabel(<span class="hljs-string">'epoch'</span>)<br>    plt.savefig(<span class="hljs-string">'content_loss.png'</span>)<br><br>    plt.figure(<span class="hljs-number">2</span>)<br>    plt.plot(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(style_loss)), style_loss)<br>    plt.title(<span class="hljs-string">'style_loss'</span>)<br>    plt.ylabel(<span class="hljs-string">'style_loss'</span>)<br>    plt.xlabel(<span class="hljs-string">'epoch'</span>)<br>    plt.savefig(<span class="hljs-string">'style_loss.png'</span>)<br><br>    plt.figure(<span class="hljs-number">3</span>)<br>    plt.plot(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(total_loss)), total_loss)<br>    plt.title(<span class="hljs-string">'total_loss'</span>)<br>    plt.ylabel(<span class="hljs-string">'total_loss'</span>)<br>    plt.xlabel(<span class="hljs-string">'epoch'</span>)<br>    plt.savefig(<span class="hljs-string">'total_loss.png'</span>)<br>    plt.show()<br></code></pre></td></tr></tbody></table></figure><hr><p>é€šå¸¸åœ¨å·¥å…·å‡½æ•°ä¸­è¿˜åŒ…æ‹¬äº†å­˜å‚¨ç½‘ç»œè¶…å‚æ•°çš„<code>config.py</code>æ–‡ä»¶ï¼Œæœ¬æ¬¡é£æ ¼è¿ç§»ä½¿ç”¨çš„è¶…å‚æ•°æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> torchvision <span class="hljs-keyword">import</span> transforms <span class="hljs-keyword">as</span> T<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Config</span>():</span><br>    <span class="hljs-comment"># style_img = 'dataset/style/hosi.jpg'</span><br>    <span class="hljs-comment"># style_img = 'dataset/style/la_muse.jpg'</span><br>    <span class="hljs-comment"># style_img = 'dataset/style/trial.jpg'</span><br>    style_img = <span class="hljs-string">'dataset/style/sketch.png'</span><br>    nw = <span class="hljs-number">0</span> <span class="hljs-comment"># å¤šçº¿ç¨‹åŠ è½½æ•°æ®é›†ï¼ˆwindowså¤šçº¿ç¨‹åŠ è½½æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æ”¹æˆäº†0ï¼‰</span><br>    bs = <span class="hljs-number">3</span> <span class="hljs-comment"># batchsize</span><br>    epochs = <span class="hljs-number">150</span> <br>    lr = <span class="hljs-number">0.001</span><br>    wc = <span class="hljs-number">1</span> <span class="hljs-comment"># å†…å®¹æŸå¤±çš„æƒé‡</span><br>    ws = <span class="hljs-number">100000</span> <span class="hljs-comment"># é£æ ¼æŸå¤±çš„æƒé‡</span><br>    result_path = <span class="hljs-string">'checkpoints'</span> <span class="hljs-comment"># è®­ç»ƒç»“æœä¿å­˜æ–‡ä»¶å¤¹</span><br>    save_frequency = <span class="hljs-number">30</span> <span class="hljs-comment"># æ¯30ä¸ªepochä¿å­˜ä¸€æ¬¡</span><br>    trans = T.ToTensor()<br></code></pre></td></tr></tbody></table></figure><h4 id="2-4-ç½‘ç»œè®­ç»ƒåŠæµ‹è¯•">2.4 ç½‘ç»œè®­ç»ƒåŠæµ‹è¯•</h4><hr><p>**ç½‘ç»œè®­ç»ƒï¼š**é€šè¿‡æ›´æ”¹<code>config.py</code>æ–‡ä»¶ä¸­çš„<code>style_img</code>è·¯å¾„æ›´æ”¹è®­ç»ƒçš„é£æ ¼å›¾ç‰‡ï¼Œç„¶åå®Œæˆ2.1èŠ‚æ‰€ç¤º3ç§é£æ ¼çš„å­¦ä¹ ã€‚å…·ä½“çš„<code>train.py</code>å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch <span class="hljs-keyword">as</span> t<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> tqdm._tqdm <span class="hljs-keyword">import</span> trange<br><span class="hljs-keyword">from</span> torch.utils <span class="hljs-keyword">import</span> data<br><span class="hljs-keyword">from</span> torchvision.utils <span class="hljs-keyword">import</span> save_image<br><span class="hljs-keyword">from</span> torchvision <span class="hljs-keyword">import</span> transforms <span class="hljs-keyword">as</span> T<br><br><span class="hljs-keyword">from</span> dataset.my_dataset <span class="hljs-keyword">import</span> Content_Dataset<br><span class="hljs-keyword">from</span> utils.config <span class="hljs-keyword">import</span> Config<br><span class="hljs-keyword">from</span> utils.tools <span class="hljs-keyword">import</span> get_gram_matrix, training_process_visualization<br><span class="hljs-keyword">from</span> model.my_net <span class="hljs-keyword">import</span> TransNet, Vgg16<br><br><br><span class="hljs-comment"># åˆå§‹åŒ–è¶…å‚æ•°å®ä¾‹</span><br>opt = Config()<br>device = t.device(<span class="hljs-string">'cuda'</span> <span class="hljs-keyword">if</span> t.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">'cpu'</span>)<br><br><span class="hljs-comment"># åŠ è½½é£æ ¼å›¾ç‰‡</span><br>img_style = opt.trans(Image.<span class="hljs-built_in">open</span>(opt.style_img)).unsqueeze(<span class="hljs-number">0</span>)<br>img_style = img_style.expand(opt.bs, img_style.shape[<span class="hljs-number">1</span>], img_style.shape[<span class="hljs-number">2</span>], img_style.shape[<span class="hljs-number">3</span>])<br>img_style = img_style.to(device)<br><br><span class="hljs-comment"># åˆ›å»ºç»“æœä¿å­˜æ–‡ä»¶å¤¹</span><br><span class="hljs-comment"># åˆ›å»ºæ–‡ä»¶å¤¹</span><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(opt.result_path):<br>    os.mkdir(opt.result_path)<br><br><span class="hljs-comment"># åˆå§‹åŒ–å†…å®¹å›¾ç‰‡åŠ è½½å™¨</span><br>content_dataset = Content_Dataset()<br>content_loader = data.DataLoader(content_dataset, opt.bs, num_workers=opt.nw)<br><br><span class="hljs-comment"># å®šä¹‰æ¨¡å‹ã€ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°</span><br>trans_net = TransNet().to(device)<br>loss_net = Vgg16().to(device).<span class="hljs-built_in">eval</span>()<br><br><br>optimizer = t.optim.AdamW(trans_net.parameters(), lr=opt.lr)<br>loss_func = nn.MSELoss().to(device)<br><br><br><span class="hljs-comment"># åˆ©ç”¨Vgg16å’ŒGram Matrixåº¦é‡é£æ ¼</span><br><span class="hljs-comment"># æ­¤å¤„ä¸ç”¨ç®¡é£æ ¼å›¾ç‰‡çš„å¤§å°å› ä¸ºæœ€åç”Ÿæˆçš„gram matrixå¤§å°å‡ä¸ºNCxNC</span><br>styles = []<br>features = loss_net(img_style)<br><span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> features:<br>    <span class="hljs-comment"># è¿™é‡Œä¸€å®šå¾—åŠ ä¸Šdetach()æˆªæ–­é£æ ¼è¾“å…¥ï¼Œä¸ç„¶ä¼šä¿ç•™çš„é£æ ¼å›¾ç‰‡çš„æ¢¯åº¦ï¼Œå¯¼è‡´BPå¤±è´¥</span><br>    styles.append(get_gram_matrix(f).detach())<br><br><span class="hljs-comment"># ç”¨äºä¿å­˜è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±</span><br>style_loss = []<br>content_loss = []<br>total_loss = []<br><br><span class="hljs-comment"># æ›´æ”¹ä¸ºtqdmæ¨¡å—å†…çš„trangeå‡½æ•°ä»¥äº†è§£è®­ç»ƒæ—¶é—´</span><br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> trange(<span class="hljs-number">1</span>, opt.epochs+<span class="hljs-number">1</span>):<br>    trans_net.train()<br>    <span class="hljs-keyword">for</span> i, image <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(content_loader):<br>        image_c = image.to(device)<br>        <span class="hljs-comment"># print(image_c.shape)</span><br>        image_g = trans_net(image_c)<br>       <br>        <span class="hljs-comment"># è®¡ç®—é£æ ¼æŸå¤±</span><br>        loss_s = <span class="hljs-number">0.0</span><br>        outs = loss_net(image_g)<br>        <span class="hljs-keyword">for</span> out, style <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(outs, styles):<br>            loss_s += loss_func(get_gram_matrix(out), style)<br><br>        <span class="hljs-comment"># è®¡ç®—å†…å®¹æŸå¤±</span><br>        contents = loss_net(image_c)<br>        loss_c2 = loss_func(outs[<span class="hljs-number">1</span>], contents[<span class="hljs-number">1</span>])<br><br>        <span class="hljs-comment"># æ€»æŸå¤±</span><br>        loss = loss_c2 * opt.wc + loss_s * opt.ws<br>        <span class="hljs-comment"># print(epoch, loss.item(), loss_c2.item(), loss_s.item())</span><br>        style_loss.append(loss_s.item())<br>        content_loss.append(loss_c2.item())<br>        total_loss.append(loss.item())<br><br>        optimizer.zero_grad()<br>        loss.backward()<br>        optimizer.step()<br>    <span class="hljs-comment"># lr_adjust.step()</span><br><br>    <br>    <span class="hljs-comment"># ä¸­é€”ä¿å­˜æ¨¡å‹</span><br>    <span class="hljs-keyword">if</span> epoch % opt.save_frequency == <span class="hljs-number">0</span>:<br>        all_data = <span class="hljs-built_in">dict</span>(<br>                optimizer=optimizer.state_dict(),<br>                model=trans_net.state_dict(),<br>                info=<span class="hljs-string">u'æ¨¡å‹å’Œä¼˜åŒ–å™¨çš„æ‰€æœ‰å‚æ•°'</span><br>            )<br>        p = opt.style_img.split(<span class="hljs-string">'/'</span>)[-<span class="hljs-number">1</span>]<br>        p = opt.result_path + <span class="hljs-string">"/"</span> + p.split(<span class="hljs-string">'.'</span>)[<span class="hljs-number">0</span>]<br>        t.save(all_data, <span class="hljs-string">'{}_trans_net_{}.pth'</span>.<span class="hljs-built_in">format</span>(p, epoch))<br>        img_path = <span class="hljs-string">'{}_fuse_{}.jpg'</span>.<span class="hljs-built_in">format</span>(p, epoch)<br>        _, _, h, w = img_style.size()<br>        trans = T.Resize((h, w))<br><br>        save_image([img_style.clone()[<span class="hljs-number">0</span>],trans(image_c[<span class="hljs-number">0</span>]), trans(image_g[<span class="hljs-number">0</span>])], <br>        img_path, padding=<span class="hljs-number">0</span>, normalize=<span class="hljs-literal">True</span>, <span class="hljs-built_in">range</span>=(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>))<br>        <br>data = {<span class="hljs-string">'style_loss'</span>:style_loss, <span class="hljs-string">'content_loss'</span>:content_loss, <span class="hljs-string">'total_loss'</span>:total_loss}<br>training_process_visualization(data)<br></code></pre></td></tr></tbody></table></figure><p>è®­ç»ƒè¿‡ç¨‹çš„æŸå¤±å˜åŒ–å›¾å¦‚ä¸‹ï¼š</p><center class="half"><img src="content_loss.png" alt="content_loss" style="zoom:50%;"><img src="style_loss.png" alt="style_loss" style="zoom: 50%;"><img src="total_loss.png" alt="total_loss" style="zoom:50%;"> </center><p>**ç½‘ç»œæµ‹è¯•ï¼š**æ„å»º<code>test.py</code>æ–‡ä»¶ï¼ŒåŠ è½½è®­ç»ƒæ—¶ä¿å­˜çš„æ¨¡å‹å‚æ•°ï¼Œä¼ å…¥éœ€è¦è¿›è¡Œé£æ ¼è¿ç§»çš„å›¾ç‰‡ï¼Œå¾—åˆ°é£æ ¼è¿ç§»ç»“æœã€‚å…·ä½“çš„æµ‹è¯•æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">from</span> os <span class="hljs-keyword">import</span> name<br><span class="hljs-keyword">import</span> torch <span class="hljs-keyword">as</span> t<br><span class="hljs-keyword">import</span> glob<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br><span class="hljs-keyword">from</span> torch.utils.data.dataset <span class="hljs-keyword">import</span> T<br><span class="hljs-keyword">from</span> utils.config <span class="hljs-keyword">import</span> Config<br><span class="hljs-keyword">from</span> model.my_net <span class="hljs-keyword">import</span> TransNet<br><span class="hljs-keyword">from</span> torchvision.utils <span class="hljs-keyword">import</span> save_image<br><br>opt = Config()<br>device = t.device(<span class="hljs-string">'cuda'</span> <span class="hljs-keyword">if</span> t.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">'cpu'</span>)<br>trans_net = TransNet().to(device)<br><br>images = glob.glob(<span class="hljs-string">'dataset/content/**'</span>)<br>styles = [<span class="hljs-string">'hosi'</span>, <span class="hljs-string">'la_muse'</span>, <span class="hljs-string">'sketch'</span>, <span class="hljs-string">'trial'</span>]<br><span class="hljs-comment"># éå†æ‰€æœ‰contentå›¾ç‰‡</span><br><span class="hljs-keyword">for</span> img_p <span class="hljs-keyword">in</span> images: <br>img = opt.trans(Image.<span class="hljs-built_in">open</span>(img_p)).unsqueeze(<span class="hljs-number">0</span>)<br>img = img.to(device)<br><span class="hljs-comment"># éå†é£æ ¼</span><br><span class="hljs-keyword">for</span> style <span class="hljs-keyword">in</span> styles:<br>pred_models = [<span class="hljs-string">'checkpoints/{}_trans_net_{}.pth'</span>.<span class="hljs-built_in">format</span>(style, i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">30</span>, <span class="hljs-number">151</span>, <span class="hljs-number">30</span>)]<br>outs = []<br>outs.append(img[<span class="hljs-number">0</span>])<br><span class="hljs-comment"># éå†é£æ ¼çš„ä¸åŒepochæ¨¡å‹</span><br><span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> pred_models:<br>all_data = t.load(m)<br>trans_net.load_state_dict(all_data[<span class="hljs-string">'model'</span>])<br>trans_net.<span class="hljs-built_in">eval</span>() <span class="hljs-comment"># è®¾ç½®ä¸ºæ¨ç†æ¨¡å¼</span><br>outs.append(trans_net(img)[<span class="hljs-number">0</span>])<br>name = style + <span class="hljs-string">'_'</span> + img_p[<span class="hljs-number">16</span>:]<br>save_image(outs, name, padding=<span class="hljs-number">0</span>, normalize=<span class="hljs-literal">True</span>, <span class="hljs-built_in">range</span>=(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>))<br></code></pre></td></tr></tbody></table></figure><h4 id="2-5-è¿ç§»ç»“æœå±•ç¤º">2.5 è¿ç§»ç»“æœå±•ç¤º</h4><hr><p>æœ€åå¾—åˆ°çš„é£æ ¼è¿ç§»ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="out1.png" alt=""></p><p><img src="out2.png" alt=""></p><p><img src="out3.png" alt=""></p><p>ç»¼åˆä»¥ä¸Šä¸‰ç§é£æ ¼çš„è¿ç§»å¯è§†åŒ–ç»“æœå¯ä»¥çœ‹å‡ºï¼Œï¼ˆä»çºµè½´ä¸Šè§‚å¯Ÿï¼‰ç½‘ç»œåœ¨å¤„ç†äººç‰©æˆ–è€…åŠ¨ç‰©å›¾åƒæ—¶ï¼Œè¿‡åº¦çš„çœ‹é‡äº†å›¾åƒçš„ä¸»ä½“ç‰¹å¾ï¼ˆå†…å®¹ï¼‰ï¼Œå¿½ç•¥äº†å›¾åƒé£æ ¼ï¼Œè¿™æ ·çš„æƒ…å†µåº”è¯¥å¯ä»¥é€šè¿‡å€™é€‰ä¸æ–­è°ƒæ•´å†…å®¹æŸå¤±å’Œé£æ ¼æŸå¤±çš„æƒé‡å–å¾—ä¸¤è€…ä¹‹é—´çš„å¹³è¡¡å»è§£å†³ï¼Œä½†é™äºæ—¶é—´å’Œç®—åŠ›ï¼Œå¹¶æœªåšè¿‡å¤šçš„å°è¯•ã€‚ï¼ˆä»æ¨ªè½´ä¸Šè§‚å¯Ÿï¼‰éšç€ç½‘ç»œè®­ç»ƒçš„åŠ æ·±ï¼Œè¿ç§»åå›¾åƒçš„é£æ ¼ä¹Ÿæ›´åŠ è‡ªç„¶ï¼ˆè™½ç„¶æˆ‘è§‰å¾—å…¶å®<code>epoch=30</code>çš„æ—¶å€™æ›´åƒæ˜¯å›¾åƒè¿ç§»çš„æœ€ç»ˆç›®çš„<span class="github-emoji"><span>ğŸ˜‚</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f602.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼‰ã€‚</p><h3 id="3-æ€»ç»“">3. æ€»ç»“</h3><p>é€šè¿‡è¿™æ¬¡é£æ ¼è¿ç§»çš„å­¦ä¹ ï¼ˆå½“ç„¶ä¹Ÿåªæ˜¯æœ€åŸºç¡€çš„éƒ¨åˆ†ï¼‰ï¼Œä¹Ÿè®©æˆ‘å¤§è‡´äº†è§£é£æ ¼è¿ç§»ä»»åŠ¡çš„æ•´ä½“æµç¨‹ï¼Œç›®å‰å®Œæˆçš„æ•ˆæœå› ä¸ºè®­ç»ƒæ—¶é—´çš„é™åˆ¶å¹¶ä¸æ˜¯å¤ªå¥½ï¼Œæ•´ä½“æ¥çœ‹æœ‰ç‚¹å„¿åƒæ˜¯é£æ ¼æ»¤é•œé‚£ç§ï¼Œä¸åƒç¬¬ä¸€èŠ‚ä»‹ç»é‚£ç§å®ç°å›¾ç‰‡é£æ ¼çš„å®Œå…¨å¡é€šåŒ–ï¼Œåé¢å¦‚æœæœ‰æ—¶é—´å†æ¥å¥½å¥½ç ”ç©¶ä¸€ä¸‹ã€‚è¿™æ¬¡ä»»åŠ¡ä¹Ÿè®©æˆ‘äº†è§£ä¸€äº›æ–°çš„ä¸œè¥¿æ¯”å¦‚ï¼šåˆ©ç”¨<code>Gram Matrix</code>å»å®šé‡è¡¡é‡å›¾ç‰‡é£æ ¼ï¼Œè‡ªç¼–ç ç½‘ç»œç»“æ„çš„æ­å»ºï¼Œåˆ©ç”¨<code>glob</code>åº“ç›´æ¥ç”Ÿæˆç›®å½•å†…æ–‡ä»¶è·¯å¾„ä»¥åŠä¸ç”¨é‡å¤é€ è½®å­ç›´æ¥åˆ©ç”¨Pytorchå®˜æ–¹çš„<code>save_img()</code>ä¿å­˜<code>tensor</code>ä¸ºå›¾ç‰‡ç­‰ç­‰ã€‚å†æ¥å†å‰ï¼Œç»§ç»­å­¦ä¹ <span class="github-emoji"><span>ğŸ›</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ›</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ›</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>!</p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>Neural Style</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºCIFAR-10çš„Pytorchæ·±åº¦å­¦ä¹ æ¨¡æ¿æ„å»º</title>
    <link href="/jasonyang.github.io/2021/11/13/%E5%9F%BA%E4%BA%8ECIFAR-10%E7%9A%84Pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A8%A1%E6%9D%BF%E6%9E%84%E5%BB%BA/"/>
    <url>/jasonyang.github.io/2021/11/13/%E5%9F%BA%E4%BA%8ECIFAR-10%E7%9A%84Pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A8%A1%E6%9D%BF%E6%9E%84%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="åŸºäºCIFAR-10çš„Pytorchæ·±åº¦å­¦ä¹ æ¨¡æ¿æ„å»º">åŸºäºCIFAR-10çš„Pytorchæ·±åº¦å­¦ä¹ æ¨¡æ¿æ„å»º</h2><p>æ„å»ºäº†ä¸€ä¸ªåŸºäºCIFAR-10æ•°æ®é›†çš„pytorchç‰ˆæœ¬æ·±åº¦å­¦ä¹ baselineï¼Œä¾¿äºä»¥åæ›´å¿«çš„è¿ç§»åˆ°å…¶å®ƒæ·±åº¦å­¦ä¹ ä»»åŠ¡ä¸­å»ã€‚ä»£ç è¯¦æƒ…è¯·å‚çœ‹<a href="https://github.com/JayHeYang/deep-learning-baseline">GitHub</a>ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ã€‚</p><h3 id="æ•°æ®é›†åŠ è½½">æ•°æ®é›†åŠ è½½</h3><hr><ol><li><p>é¦–å…ˆéœ€è¦ä»CIFAR-10å®˜ç½‘ä¸‹è½½æ‰“åŒ…å¥½çš„æ•°æ®é›†</p><p>CIFAR-10æ•°æ®é›†å®˜ç½‘ï¼š<a href="http://www.cs.toronto.edu/~kriz/cifar.html">http://www.cs.toronto.edu/~kriz/cifar.html</a></p><ul><li><p>ä¸‹è½½å¯¹åº”Pythonç‰ˆæœ¬çš„æ•°æ®é›†æ–‡ä»¶å¹¶è§£å‹</p></li><li><p>æ ¹æ®å®˜ç½‘ä¸Šçš„PythonåŠ è½½æ–¹å¼åŠ è½½æ•°æ®é›†</p></li></ul></li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">unpickle</span>(<span class="hljs-params">file</span>):</span><br>    <span class="hljs-keyword">import</span> pickle<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> fo:<br>        <span class="hljs-built_in">dict</span> = pickle.load(fo, encoding=<span class="hljs-string">'bytes'</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">dict</span><br><br>file = <span class="hljs-string">'/Users/morvan/Downloads/cifar-10-batches-py/data_batch_1'</span><br><span class="hljs-built_in">print</span>(unpickle(file).keys())<br></code></pre></td></tr></tbody></table></figure><p>è¾“å‡ºä¸ºï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dict_keys([<span class="hljs-string">b'batch_label'</span>, <span class="hljs-string">b'labels'</span>, <span class="hljs-string">b'data'</span>, <span class="hljs-string">b'filenames'</span>])<br></code></pre></td></tr></tbody></table></figure><p>ç»è¿‡ä»¥ä¸Šè§£ç åŠ è½½ä¹‹åï¼Œå¯¹è¿”å›å€¼<code>dict</code>å–<code>dict[b'labels']</code>å’Œ<code>dict[b'data']</code>åˆ†åˆ«è·å–batch1ä¸­çš„æ ‡ç­¾å’Œæ•°æ®ï¼ŒåŒç†å¯ä»¥ä¾æ¬¡è·å¾—batch2-5ä»¥åŠtest_batchçš„æ ‡ç­¾å’Œæ•°æ®ã€‚</p><blockquote><p><code>dict[b'labels']</code>è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º10000çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ å–å€¼èŒƒå›´ä¸º0-9ï¼Œåˆ†åˆ«å¯¹åº”10ä¸ªç±»åˆ«çš„æ ‡ç­¾ã€‚</p></blockquote><blockquote><p><code>dict[b'data']</code>è¿”å›ä¸€ä¸ª[10000, 3072]çš„çŸ©é˜µï¼Œå­˜å‚¨æ¯å¼ æ ·æœ¬å›¾ç‰‡çš„RGBåƒç´ å€¼ã€‚å‰1024ï¼ˆ32x32ï¼‰æ˜¯Ré€šé“çš„åƒç´ æ•°æ®ï¼Œåé¢ä¾æ¬¡æ˜¯Bã€Gé€šé“ã€‚</p></blockquote><ol start="2"><li>å®Œæˆè®­ç»ƒå’Œæµ‹è¯•é›†çš„æ ·æœ¬çš„è§£å‹åŠ è½½ä¹‹åï¼Œå¼€å§‹ç¬¬äºŒæ­¥ï¼šæ„é€ æ•°æ®é›†åŠ è½½å™¨ç±»ã€‚è¿™ä¸ªç±»æœ‰ä¸‰ä¸ªä¸»è¦çš„æ„é€ å‡½æ•°åˆ†åˆ«æ˜¯ï¼š<ol><li><code>__init__()</code>ç”¨äºåˆå§‹åŒ–æ•°æ®é›†è·¯å¾„å’Œå®šä¹‰ä¸€äº›æ•°æ®å¢å¼ºPiplineã€‚</li><li><code>__getitem__()</code>ç”¨äºä¾æ®æ‰€ä»¥è·å–å¯¹åº”æ•°æ®å¢å¼ºåçš„æ ·æœ¬ï¼ˆdata+labelï¼‰ã€‚</li><li><code>__len__()</code>è¿”å›æ ·æœ¬é›†çš„æ ·æœ¬æ•°æ®é‡ã€‚</li></ol></li></ol><p>å…·ä½“æ•°æ®é›†åŠ è½½å™¨ç±»æ„é€ å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cifar10_Dataset</span>(<span class="hljs-params">data.Dataset</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, data_roots, trans</span>):</span><br>        self.transforms = trans<br>        <span class="hljs-keyword">for</span> k, data_root <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(data_roots):<br>            data = unpickle(data_root)[<span class="hljs-string">b'data'</span>]<br>            label = unpickle(data_root)[<span class="hljs-string">b'labels'</span>]<br>            <span class="hljs-keyword">if</span> k == <span class="hljs-number">0</span>:<br>                self.all_data = data<br>                self.all_label = label<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-comment"># shape-&gt;(50000, 3072) or (10000, 3072)</span><br>                self.all_data = np.vstack((self.all_data, data)) <br>                <span class="hljs-comment"># shape-&gt;(50000, ) or (10000, )</span><br>                self.all_label = self.all_label + label <br>        <br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__getitem__</span>(<span class="hljs-params">self, idx</span>):</span><br>        <span class="hljs-comment"># è°ƒæ•´æ•°æ®å½¢çŠ¶ä¸ºå›¾ç‰‡æ ¼å¼ (3x32x32), ä¹‹åè°ƒæ•´é€šé“å’Œå›¾ç‰‡å®½é«˜çš„æ’åºï¼ˆCHW-&gt;HWCï¼‰</span><br>        sample = np.reshape(self.all_data[idx], (<span class="hljs-number">3</span>, <span class="hljs-number">32</span>, <span class="hljs-number">32</span>)).transpose((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>))<br>        img = Image.fromarray(sample)<br>        img = self.transforms(img) <span class="hljs-comment"># 3x32x32</span><br>        <span class="hljs-keyword">return</span> img, self.all_label[idx]<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__len__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.all_label)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:<br>    <span class="hljs-comment"># storage location datasets</span><br>    file = <span class="hljs-string">'/Users/morvan/Downloads/cifar-10-batches-py/data_batch_1'</span><br>    roots = [file] <br>    trans = T.Compose([<br>        T.RandomCrop(<span class="hljs-number">32</span>),<br>        T.ToTensor(),<br>        T.Normalize(mean=[<span class="hljs-number">0.485</span>, <span class="hljs-number">0.456</span>, <span class="hljs-number">0.406</span>],<br>                    std=[<span class="hljs-number">0.229</span>, <span class="hljs-number">0.224</span>, <span class="hljs-number">0.225</span>]),<br>    ])<br>    dataset = Cifar10_Dataset(roots, trans)<br>    <span class="hljs-built_in">print</span>(dataset.__getitem__(<span class="hljs-number">10</span>)[<span class="hljs-number">0</span>].shape)<br></code></pre></td></tr></tbody></table></figure><p>è‡³æ­¤æ•°æ®é›†åŠ è½½å™¨ç±»æ„é€ å®Œæˆã€‚</p><h3 id="ç½‘ç»œæ¨¡å‹æ­å»º">ç½‘ç»œæ¨¡å‹æ­å»º</h3><hr><p>ç½‘ç»œæ¨¡å‹ä¸ºResNet18ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨Pytorchå®˜æ–¹æä¾›çš„ç‰ˆæœ¬ï¼ˆæ‰‹åŠ¨æ›´æ”¹æœ€åå…¨è¿æ¥å±‚çš„èŠ‚ç‚¹æ•°ä¸ºclass_num=10ï¼‰ã€‚</p><ol><li>ResNet18</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResNet18</span>(<span class="hljs-params">nn.Module</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, num_classes</span>):</span><br>        <span class="hljs-built_in">super</span>(ResNet18, self).__init__()<br>        resnet18 = M.resnet18(pretrained=<span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># æ›´æ”¹ResNet18æœ€åå…¨è¿æ¥å±‚çš„èŠ‚ç‚¹æ•°ä»¥é€‚åº”cifar10</span><br>        resnet18.fc = nn.Linear(resnet18.fc.in_features, num_classes)<br>        self.resnet = resnet18<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">forward</span>(<span class="hljs-params">self, x</span>):</span><br>        <span class="hljs-keyword">return</span> self.resnet(x)<br></code></pre></td></tr></tbody></table></figure><h3 id="å·¥å…·å‡½æ•°åŠè¶…å‚æ•°è®¾ç½®">å·¥å…·å‡½æ•°åŠè¶…å‚æ•°è®¾ç½®</h3><hr><p>æ„é€ äº†ä¸¤ä¸ªå·¥å…·å‡½æ•°<code>calculation_accuracy()</code>å’Œ<code>training_process_visualization()</code>åˆ†åˆ«ç”¨äºè®¡ç®—å‡†ç¡®ç‡å’Œè®­ç»ƒè¿‡ç¨‹çš„å¯è§†åŒ–ã€‚</p><ol><li>calculation_accuracy()</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">calculation_accuracy</span>(<span class="hljs-params">pred, label</span>):</span><br>    pred = pred.cpu().detach().numpy() <span class="hljs-comment"># å¦‚æœæ²¡æœ‰ç”¨GPUåŠ é€Ÿï¼Œåˆ™æŠŠ.cpu()åˆ é™¤</span><br>    pred = np.argmax(pred, axis=<span class="hljs-number">1</span>)<br>    <span class="hljs-comment"># å¦‚æœæ²¡æœ‰ç”¨GPUåŠ é€Ÿï¼Œåˆ™æŠŠ.cpu()åˆ é™¤</span><br>    right_count = np.<span class="hljs-built_in">sum</span>(pred == label.cpu().numpy()) <br>    acc = right_count / label.size(<span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">return</span> acc<br></code></pre></td></tr></tbody></table></figure><ol start="2"><li>training_process_visualization()</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">training_process_visualization</span>(<span class="hljs-params">data</span>):</span><br>    train_acc = data[<span class="hljs-string">'train_acc'</span>]<br>    train_loss = data[<span class="hljs-string">'train_loss'</span>]<br>    test_acc = data[<span class="hljs-string">'test_acc'</span>]<br><br>    plt.figure(<span class="hljs-number">1</span>)<br>    plt.plot(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(train_loss)), train_loss)<br>    plt.title(<span class="hljs-string">'trian_loss'</span>)<br>    plt.ylabel(<span class="hljs-string">'trian loss'</span>)<br>    plt.xlabel(<span class="hljs-string">'step'</span>)<br>    plt.savefig(<span class="hljs-string">'train_loss.png'</span>)<br><br>    plt.figure(<span class="hljs-number">2</span>)<br>    plt.plot(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(train_acc)), train_acc)<br>    plt.title(<span class="hljs-string">'train_acc'</span>)<br>    plt.ylabel(<span class="hljs-string">'train acc'</span>)<br>    plt.xlabel(<span class="hljs-string">'step'</span>)<br>    plt.savefig(<span class="hljs-string">'train_acc.png'</span>)<br><br>    plt.figure(<span class="hljs-number">3</span>)<br>    plt.plot(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(test_acc)), test_acc)<br>    plt.title(<span class="hljs-string">'test_acc'</span>)<br>    plt.ylabel(<span class="hljs-string">'test acc'</span>)<br>    plt.xlabel(<span class="hljs-string">'epoch'</span>)<br>    plt.savefig(<span class="hljs-string">'test_acc.png'</span>)<br>    plt.show()<br></code></pre></td></tr></tbody></table></figure><ol start="3"><li><a href="http://config.py">config.py</a></li></ol><p>è¿™ä¸ªæ–‡ä»¶ä¸€èˆ¬ç”¨æ¥å­˜å‚¨æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„å­¦ä¹ ç‡ï¼Œæ•°æ®å¢å¼ºï¼Œbatch sizeï¼ŒæŸå¤±å‡½æ•°ç­‰è¶…å‚æ•°ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> torchvision <span class="hljs-keyword">import</span> transforms <span class="hljs-keyword">as</span> T<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Config</span>():</span><br>    train_roots = [<span class="hljs-string">'F:/DeepL/cifar-10-batches-py/data_batch_'</span><br>                        +<span class="hljs-built_in">str</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>)]<br>    test_roots = [<span class="hljs-string">'F:/DeepL/cifar-10-batches-py/test_batch'</span>]<br>    net = <span class="hljs-string">'Res'</span> <span class="hljs-comment"># ç½‘ç»œç»“æ„</span><br>    num_classes = <span class="hljs-number">10</span> <span class="hljs-comment"># ç±»åˆ«æ•°</span><br>    nw = <span class="hljs-number">0</span> <span class="hljs-comment"># å¤šçº¿ç¨‹åŠ è½½æ•°æ®é›†ï¼ˆwindowså¤šçº¿ç¨‹åŠ è½½æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æ”¹æˆäº†0ï¼‰</span><br>    wd = <span class="hljs-number">0.001</span> <span class="hljs-comment"># æƒé‡è¡°å‡</span><br>    m = <span class="hljs-number">0.9</span> <span class="hljs-comment"># SGDåŠ¨é‡</span><br>    bs = <span class="hljs-number">512</span> <span class="hljs-comment"># batchsize</span><br>    epochs = <span class="hljs-number">20</span> <br>    lr = <span class="hljs-number">0.001</span><br>    <span class="hljs-comment"># è‡ªå®šä¹‰è®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†æ‰€ç”¨çš„æ•°æ®å¢å¼º</span><br>    train_trans = T.Compose([<br>        T.RandomCrop(<span class="hljs-number">32</span>),<br>        T.RandomRotation((-<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)),<br>        T.ToTensor(),<br>        T.Normalize(mean=[<span class="hljs-number">0.485</span>, <span class="hljs-number">0.456</span>, <span class="hljs-number">0.406</span>],<br>                    std=[<span class="hljs-number">0.229</span>, <span class="hljs-number">0.224</span>, <span class="hljs-number">0.225</span>])])<br>    test_trans = T.Compose([<br>        T.ToTensor(),<br>        T.Normalize(mean=[<span class="hljs-number">0.485</span>, <span class="hljs-number">0.456</span>, <span class="hljs-number">0.406</span>],<br>                    std=[<span class="hljs-number">0.229</span>, <span class="hljs-number">0.224</span>, <span class="hljs-number">0.225</span>])])<br>    <br></code></pre></td></tr></tbody></table></figure><h3 id="è®­ç»ƒå’Œæµ‹è¯•">è®­ç»ƒå’Œæµ‹è¯•</h3><hr><h4 id="è®­ç»ƒæ­¥éª¤">è®­ç»ƒæ­¥éª¤</h4><ol><li>åˆå§‹åŒ–è¶…å‚æ•°å®ä¾‹</li><li>å®šä¹‰æ•°æ®é›†åŠ è½½å™¨å®ä¾‹</li><li>å®šä¹‰æ¨¡å‹ã€ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°ã€å­¦ä¹ ç‡è°ƒæ•´å™¨</li><li>ç”¨äºä¿å­˜è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±å’Œå‡†ç¡®ç‡ï¼ˆå¯ä»¥ä¸ç”¨ï¼‰</li><li>é€šè¿‡ä¸¤å±‚<code>for</code>å¾ªç¯å¼€å§‹è¿­ä»£è®­ç»ƒ<ol><li>å–æ•°æ®ï¼ˆ<code>net.train()</code>ï¼‰</li><li>ä¼˜åŒ–å™¨æ¢¯åº¦ç½®é›¶</li><li>å‰å‘ä¼ æ’­é¢„æµ‹</li><li>è®¡ç®—æŸå¤±å¹¶åå‘ä¼ æ’­</li><li>å­¦ä¹ ç‡è°ƒæ•´</li><li>æ¯ä¸ªepochæµ‹è¯•ä¸€æ¬¡ï¼ˆ<code>net.eval()</code>ï¼‰</li></ol></li><li>æ ¹æ®è®°å½•çš„æ•°æ®å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹</li></ol><p>å®Œæ•´çš„<code>train.py</code>å¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch <span class="hljs-keyword">as</span> t<br><span class="hljs-keyword">from</span> tqdm._tqdm <span class="hljs-keyword">import</span> trange<br><span class="hljs-keyword">from</span> torch.optim.lr_scheduler <span class="hljs-keyword">import</span> StepLR<br><span class="hljs-keyword">from</span> torch.utils <span class="hljs-keyword">import</span> data<br><br><span class="hljs-keyword">from</span> dataset.my_dataset <span class="hljs-keyword">import</span> Cifar10_Dataset<br><span class="hljs-keyword">from</span> utils.config <span class="hljs-keyword">import</span> Config<br><span class="hljs-keyword">from</span> utils.tools <span class="hljs-keyword">import</span> calculation_accuracy, training_process_visualization<br><span class="hljs-keyword">from</span> model.my_net <span class="hljs-keyword">import</span> ResNet18<br><br><br><span class="hljs-comment"># åˆå§‹åŒ–è¶…å‚æ•°å®ä¾‹</span><br>opt = Config()<br><br><span class="hljs-comment"># åˆå§‹åŒ–è®­ç»ƒé›†ã€æµ‹è¯•é›†åŠ è½½å™¨å®ä¾‹</span><br>trainset = Cifar10_Dataset(data_roots=opt.train_roots, trans=opt.train_trans)<br>trainset_loader = data.DataLoader(trainset, opt.bs, num_workers=opt.nw, shuffle=<span class="hljs-literal">True</span>)<br>testset = Cifar10_Dataset(data_roots=opt.test_roots, trans=opt.test_trans)<br>testset_loader = data.DataLoader(testset, opt.bs, num_workers=opt.nw)<br><br><span class="hljs-comment"># å®šä¹‰æ¨¡å‹ã€ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°ã€å­¦ä¹ ç‡è°ƒæ•´å™¨</span><br>net = ResNet18(opt.num_classes)<br>optimizer = t.optim.SGD(net.parameters(), lr=opt.lr, momentum=opt.m, weight_decay=opt.wd)<br>loss_func = nn.CrossEntropyLoss()<br>lr_adjust = StepLR(optimizer, step_size=<span class="hljs-number">30</span>, gamma=<span class="hljs-number">0.1</span>)  <br><br><span class="hljs-comment"># ç”¨äºä¿å­˜è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±å’Œå‡†ç¡®ç‡</span><br>train_loss = []<br>train_acc = []<br>test_acc = []<br><br><span class="hljs-keyword">if</span> t.cuda.is_available():<br>    net.cuda()<br>    loss_func.cuda()<br><br><span class="hljs-comment"># æ›´æ”¹ä¸ºtqdmæ¨¡å—å†…çš„trangeå‡½æ•°ä»¥äº†è§£è®­ç»ƒæ—¶é—´</span><br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> trange(<span class="hljs-number">1</span>, opt.epochs+<span class="hljs-number">1</span>):<br>    net.train()<br>    <span class="hljs-keyword">for</span> i, (data, label) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(trainset_loader):<br>        <span class="hljs-keyword">if</span> t.cuda.is_available():<br>            data, label = data.cuda(), label.cuda()<br><br>        optimizer.zero_grad()<br>        pred = net(data)<br><br>        loss = loss_func(pred, label)<br>        acc = calculation_accuracy(pred, label)<br>        loss.backward()<br>        optimizer.step()<br><br>         <span class="hljs-comment"># å¦‚æœæ²¡æœ‰ç”¨GPUåŠ é€Ÿï¼Œåˆ™æŠŠ.cpu()åˆ é™¤</span><br>        train_loss.append(loss.cpu().detach().numpy())<br>        train_acc.append(acc)<br>        <span class="hljs-comment"># print('loss:', loss.cpu().detach().numpy(), "acc", acc)</span><br>    lr_adjust.step()<br><br>    <br>    <span class="hljs-comment"># æ¯è®­ç»ƒå®Œä¸€è½®è¿›è¡Œä¸€æ¬¡æµ‹è¯•</span><br>    net.<span class="hljs-built_in">eval</span>()<br>    <span class="hljs-keyword">for</span> j, (data, label) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(testset_loader):<br>        <span class="hljs-keyword">if</span> t.cuda.is_available():<br>            data, label = data.cuda(), label.cuda()<br>        test_pred = net(data)<br>        <br>        all_pred = test_pred <span class="hljs-keyword">if</span> j == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> t.vstack((all_pred, test_pred))<br>        all_label = label <span class="hljs-keyword">if</span> j == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> t.cat((all_label, label))<br>    <br>    acc = calculation_accuracy(all_pred, all_label)<br>    test_acc.append(acc)<br><br><br>data = {<span class="hljs-string">'train_loss'</span>:train_loss, <span class="hljs-string">'train_acc'</span>:train_acc, <span class="hljs-string">'test_acc'</span>:test_acc}<br>training_process_visualization(data)<br></code></pre></td></tr></tbody></table></figure><hr><div class="note note-success">            <p><strong>Post author:</strong> jasonyang<br><strong>Copyright Notice:</strong>  All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a> unless stating additionally. è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>          </div>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>Pytorch baseline cifar10</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gitæ“ä½œæŒ‡å—</title>
    <link href="/jasonyang.github.io/2021/09/25/Git%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/"/>
    <url>/jasonyang.github.io/2021/09/25/Git%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/</url>
    
    <content type="html"><![CDATA[<h2 id="Git-æ“ä½œæŒ‡ä»¤">Git æ“ä½œæŒ‡ä»¤</h2><h3 id="0-Git-æ˜¯ä»€ä¹ˆ">0. Git æ˜¯ä»€ä¹ˆ</h3><hr><p>Git æ˜¯ä¸€ä¸ªå…ˆè¿›ä¾¿æ·çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚å®ƒå¯ä»¥å®ç°å¯¹çº¯æ–‡æœ¬æ–‡ä»¶ï¼ˆcodeã€txtã€csvã€mdâ€¦ï¼‰çš„ä¿®æ”¹æç¤ºï¼ˆå…·ä½“åˆ°æŸè¡Œï¼‰ã€å›é€€åˆ°ä¹‹å‰çš„ç‰ˆæœ¬ã€åˆ›å»ºä¸åŒåˆ†æ”¯ç­‰ç­‰æ“ä½œï¼Œè¿™äº›æ“ä½œéƒ½æ˜¯å¯åä½œçš„ã€‚</p><h3 id="1-åˆ›å»ºæœ¬åœ°ä»“åº“ï¼ˆé¢„å¤‡ï¼‰">1. åˆ›å»ºæœ¬åœ°ä»“åº“ï¼ˆé¢„å¤‡ï¼‰</h3><hr><p>æ‰“å¼€Git Bashå‘½ä»¤è¡Œçª—å£ï¼Œç„¶åé…ç½®ä¸€ä¸‹è‡ªå·±çš„åå­—å’Œé‚®ç®±ï¼ˆè‡ªæŠ¥å®¶é—¨ï¼‰ï¼Œæ–¹ä¾¿åä½œè€…çœ‹åˆ°æ˜¯è°ä¿®æ”¹æäº¤äº†ç‰ˆæœ¬ï¼Œé…ç½®ä¹‹åå…¨å±€æœ‰æ•ˆï¼Œä½ åœ¨å½“å‰ç”µè„‘ä¸Šçš„æ¯ä¸ªGitä»“åº“éƒ½æ˜¯ä½¿ç”¨è¿™ä¸ªé…ç½®ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git config --global user.name <span class="hljs-string">"jasonyang"</span><br>$ git config --global user.email <span class="hljs-string">"jayheyang@gmail.com"</span><br></code></pre></td></tr></tbody></table></figure><ol><li><strong>åˆ‡æ¢åˆ°æƒ³è¦å»ºç«‹ä»“åº“çš„æ–‡ä»¶ç›®å½•ã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">cd</span> /h/code<br></code></pre></td></tr></tbody></table></figure><ol start="2"><li><strong>åœ¨å½“å‰ç›®å½•åˆ›å»ºæ–°çš„æ–‡ä»¶å¤¹<code>learngit</code>, ç„¶ååˆ‡æ¢åˆ°<code>learngit</code>ç›®å½•ã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mkdir learngit<br>$ <span class="hljs-built_in">cd</span> learngit <br></code></pre></td></tr></tbody></table></figure><blockquote><p>å¯ä½¿ç”¨<code>pwd</code>æŒ‡ä»¤æŸ¥çœ‹å½“å‰ç›®å½•</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">pwd</span><br>out-&gt; /h/code/learngit<br></code></pre></td></tr></tbody></table></figure><ol start="3"><li><strong>ä½¿ç”¨<code>git init</code>å‘½ä»¤ä½¿å¾—è¯¥ç›®å½•å˜æˆå¯ä»¥è¢«Gitç®¡ç†çš„ä»“åº“ï¼ˆæ–‡ä»¶å¤¹ï¼‰ã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git init<br></code></pre></td></tr></tbody></table></figure><h3 id="2-å°†æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“">2. å°†æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“</h3><hr><ol><li><strong>ç¼–å†™æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯<code>.py</code>ï¼Œ<code>.md</code>ï¼Œ <code>.txt</code>ç­‰ï¼Œ ç¼–å†™<code>readme.txt</code>ï¼Œå¹¶ä¿å­˜åˆ°å½“å‰Gitç›®å½•ã€‚</strong></li></ol><figure class="highlight livecodeserver"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># readme.txt</span><br>Git is <span class="hljs-keyword">a</span> <span class="hljs-built_in">version</span> control <span class="hljs-keyword">system</span>.<br>balabala...<br></code></pre></td></tr></tbody></table></figure><ol start="2"><li><strong>æŠŠæ–‡ä»¶æ·»åŠ åˆ°Gitçš„æš‚å­˜åŒºã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git add readme.txt<br></code></pre></td></tr></tbody></table></figure><ol start="3"><li><strong>æŠŠæ‰€æœ‰æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°Gitä»“åº“ã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git commit -m <span class="hljs-string">"wrote a readme file"</span><br></code></pre></td></tr></tbody></table></figure><p><code>-m</code>æŒ‡ä»¤è¡¨ç¤ºå¯¹æœ¬æ¬¡æäº¤çš„æ–‡ä»¶æ·»åŠ ä¸€ä¸ªè¯´æ˜ã€‚</p><h3 id="3-å¸¸ç”¨æŒ‡ä»¤">3. å¸¸ç”¨æŒ‡ä»¤</h3><hr><h4 id="3-1-åŸºç¡€å‚¨å¤‡">3.1 åŸºç¡€å‚¨å¤‡</h4><hr><ul><li><strong>basic command</strong></li></ul><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git init <br>$ git add test.py<br>$ git commit -m <span class="hljs-string">"modified XXXX"</span><br></code></pre></td></tr></tbody></table></figure><ol><li><strong>æŸ¥çœ‹å½“å‰ä»“åº“çŠ¶æ€ï¼Œäº†è§£æ˜¯å¦æœ‰äº›æ–‡ä»¶è¢«åˆ æ”¹ã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git status<br></code></pre></td></tr></tbody></table></figure><ol start="2"><li><strong>æŸ¥çœ‹å½“å‰å·¥ä½œåŒºæ–‡ä»¶ä¸ç‰ˆæœ¬åº“æ–‡ä»¶æœ‰ä»€ä¹ˆä¸åŒã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git diff readme.txt <span class="hljs-comment"># readme.txtä¸å½“å‰ç‰ˆæœ¬åº“é‡Œreadme.txtçš„ä¸åŒ</span><br>$ git diff HEAD^ -- readme.txt <span class="hljs-comment"># readme.txtä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ˆä¸Šä¸€æ¬¡æäº¤ï¼‰é‡Œçš„readme.txtçš„å¼‚åŒã€‚</span><br></code></pre></td></tr></tbody></table></figure><blockquote><p>æ‰¾åˆ°ä¸åŒä¹‹åå¯ä»¥æ ¹æ®æƒ…å†µä½¿ç”¨<code>git add</code>å’Œ<code>git commit</code>æ·»åŠ å¹¶æäº¤æ–‡ä»¶ï¼Œæˆ–è€…ä½¿ç”¨<code>git reset</code>å›é€€åˆ°ä¿®æ”¹å‰çš„ç‰ˆæœ¬ã€‚</p></blockquote><ol start="3"><li><strong>æŸ¥çœ‹æäº¤çš„ç‰ˆæœ¬æ—¥å¿—ï¼ŒåŒ…æ‹¬åˆ†æ”¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">log</span><br>or<br>$ git <span class="hljs-built_in">log</span> --pretty=oneline<br><br>$ git <span class="hljs-built_in">log</span> --graph <span class="hljs-comment"># å¯ä»¥çœ‹åˆ°åˆ†æ”¯çš„åˆå¹¶æµç¨‹å›¾</span><br></code></pre></td></tr></tbody></table></figure><p><code>--pretty=oneline</code>å¯ä»¥è®©è¿”å›çš„æ—¥å¿—ä¿¡æ¯æ›´åŠ ç®€ç•¥ã€‚</p><ol start="4"><li><strong>ç‰ˆæœ¬å›é€€ï¼ˆé’ˆå¯¹å·²ç»è¿›è¡Œ<code>git add</code> ç”šè‡³<code>git commit</code>æ“ä½œçš„æƒ…å†µï¼‰ã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git reset <span class="hljs-comment"># ç§»é™¤ä»“åº“æš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œä½†ä¸æ”¹å˜å·¥ä½œåŒºæ–‡ä»¶ï¼Œç›¸å½“äºæ’¤é”€git addæ“ä½œã€‚</span><br>$ git reset &lt;commit id&gt; <span class="hljs-comment"># å°†ä»“åº“åˆ†æ”¯å›é€€åˆ°æŒ‡å®š&lt;commit id&gt;ç‰ˆæœ¬ï¼Œ å…¶ä½™åŒä¸Šã€‚</span><br>$ git reset --hard <span class="hljs-comment"># æ¸…é™¤æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ”¹åŠ¨ã€‚ä¼šå¼ºåˆ¶ä¿®æ”¹å·¥ä½œåŒºæ–‡ä»¶ã€‚</span><br>$ git reset --hard &lt;commit id&gt; <span class="hljs-comment"># å°†ä»“åº“åˆ†æ”¯å›é€€åˆ°æŒ‡å®š&lt;commit id&gt;ç‰ˆæœ¬ï¼Œ å…¶ä½™åŒä¸Šã€‚</span><br><br>$ git reset --hard HEAD^ <span class="hljs-comment"># å›é€€åˆ°å½“å‰ç‰ˆæœ¬çš„ä¸Šä¸€ä¸ªç‰ˆæœ¬</span><br>$ git reset --hard HEAD~1 <span class="hljs-comment"># å›é€€åˆ°å½“å‰ç‰ˆæœ¬çš„ä¸Šä¸€ä¸ªç‰ˆæœ¬</span><br><br>$ git reset --hard HEAD^^ <span class="hljs-comment"># å›é€€åˆ°å½“å‰ç‰ˆæœ¬çš„ä¸Šä¸¤ä¸ªç‰ˆæœ¬</span><br>$ git reset --hard HEAD~2 <span class="hljs-comment"># å›é€€åˆ°å½“å‰ç‰ˆæœ¬çš„ä¸Šä¸¤ä¸ªç‰ˆæœ¬ã€‚</span><br></code></pre></td></tr></tbody></table></figure><blockquote><p><code>&lt;commit id&gt;</code>å¯ä»¥ä¸ç”¨å†™å…¨ï¼Œç±»ä¼¼<code>1098abd</code>è¿™ç§å‰é¢å‡ ä½å°±å¯ä»¥äº†ã€‚</p></blockquote><blockquote><p>æ²¡æœ‰åŠ <code>--hard</code>çš„å‘½ä»¤æ‰‹åŠ¨æ‰“å¼€æœ¬åœ°å·¥ä½œåŒºæ–‡ä»¶ä¾‹å¦‚<code>readme.txt</code>ä¸ä¼šçœ‹åˆ°ä¿®æ”¹çš„å†…å®¹æ’¤é”€äº†ï¼ŒåŠ äº†<code>--hard</code>çš„å‘½ä»¤åˆ™ä¼šçœ‹åˆ°æ–‡ä»¶çš„å†…å®¹å›åˆ°äº†ä¿®æ”¹ä¹‹å‰ã€‚</p></blockquote><ol start="5"><li><strong>æ’¤é”€ä¿®æ”¹ï¼ˆé’ˆå¯¹è¿˜æœªå°†ä¿®æ”¹æ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒºæˆ–è€…ä»“åº“çš„æƒ…å†µï¼‰ã€‚</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git checkout -- readme.txt<br></code></pre></td></tr></tbody></table></figure><p>æ’¤é”€å·¥ä½œåŒºé‡Œ<code>readme.txt</code>æ–‡ä»¶æœ€è¿‘çš„ä¸€æ¬¡ä¿®æ”¹ï¼Œå¦‚æœæ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒºï¼Œåˆ™éœ€è¦é‡‡ç”¨ç¬¬4ç‚¹çš„<code>git reset</code>æ“ä½œè¿›è¡Œå›é€€ã€‚</p><blockquote><p>æ³¨æ„ï¼šå¦‚æœä¸å°å¿ƒå°†å·¥ä½œåŒºæ–‡ä»¶<code>rm</code>åˆ é™¤äº†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>git checkout -- &lt;file name&gt;</code>è¿›è¡Œè¯¯åˆ æ¢å¤ï¼Œ <code>checkout</code>æŒ‡ä»¤å°±æ˜¯ä¿è¯å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“çš„æ–‡ä»¶ä¸€è‡´ã€‚</p></blockquote><ol start="6"><li><p><strong>å½»åº•åˆ é™¤æ–‡ä»¶</strong></p><ol><li>åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶</li></ol> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rm test.py<br></code></pre></td></tr></tbody></table></figure><ol start="2"><li>åˆ é™¤ç‰ˆæœ¬ä»“åº“æ–‡ä»¶</li></ol> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git rm test.py<br></code></pre></td></tr></tbody></table></figure><ol start="3"><li>å‘Gitä»“åº“æŠ¥å‘Šæœ¬æ¬¡åˆ é™¤æ“ä½œ</li></ol> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git commit -m <span class="hljs-string">"remove test.py"</span><br></code></pre></td></tr></tbody></table></figure></li><li><p><strong>ä¸ºæ¯æ¬¡æäº¤æ‰“æ ‡ç­¾</strong></p><ol><li>ä¸ºæœ€è¿‘ä¸€æ¬¡æäº¤æ‰“æ ‡ç­¾</li></ol> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git tag v1.0 <span class="hljs-comment"># ä¸ºå½“å‰æäº¤commit-&gt;HEADæ‰“ä¸Šv1.0çš„æ ‡ç­¾</span><br>$ git tag -a v1.0 -m <span class="hljs-string">"version 1.0 released"</span> <span class="hljs-comment"># æ‰“æ ‡ç­¾åŒæ—¶ï¼Œæä¾›æ ‡ç­¾è¯´æ˜</span><br></code></pre></td></tr></tbody></table></figure><ol start="2"><li>ä¸ºæŒ‡å®š<code>commit id</code>æ‰“æ ‡ç­¾</li></ol> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git tag v0.9 f64c633 <br>$ git tag -a v1.0 -m <span class="hljs-string">"version 1.0 released"</span> f64c633<br></code></pre></td></tr></tbody></table></figure><ol start="3"><li>æŸ¥çœ‹æ ‡ç­¾</li></ol> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git tag <span class="hljs-comment"># æŸ¥çœ‹å·²æ‰“çš„æ ‡ç­¾</span><br>$ git show v1.0 <span class="hljs-comment"># è¯¦ç»†æŸ¥çœ‹v1.0æœ¬æ¬¡æäº¤æ“ä½œ</span><br></code></pre></td></tr></tbody></table></figure><ol start="4"><li>åˆ é™¤æ ‡ç­¾</li></ol> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git tag -d v1.0<br></code></pre></td></tr></tbody></table></figure><ol start="5"><li>æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ã€åˆ é™¤è¿œç¨‹æ ‡ç­¾</li></ol> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git push origin v1.0 <span class="hljs-comment"># æ¨é€v1.0æ ‡ç­¾åˆ°è¿œç¨‹`origin`åˆ†æ”¯</span><br>$ git push origin --tags <span class="hljs-comment"># ä¸€æ¬¡æ€§æ¨é€æ‰€æœ‰æ ‡ç­¾</span><br></code></pre></td></tr></tbody></table></figure> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git tag -d v1.0 <span class="hljs-comment"># å…ˆåˆ é™¤æœ¬åœ°æ ‡ç­¾</span><br>$ git push origin :refs/tags/v1.0 <span class="hljs-comment"># ç”¨'push'åˆ é™¤è¿œç¨‹</span><br></code></pre></td></tr></tbody></table></figure></li></ol><h4 id="3-åˆ†æ”¯ç®¡ç†">3. åˆ†æ”¯ç®¡ç†</h4><hr><p>åˆ†æ”¯æ˜¯Gité‡Œé¢å…³é”®çš„åŠŸèƒ½ï¼Œå…¶èƒ½å¤Ÿå®ç°å¹³è¡ŒåŒ–ç‰ˆæœ¬æ—¶é—´çº¿ï¼Œä¹Ÿèƒ½åˆå¹¶ä¸åŒåˆ†æ”¯æ—¶é—´çº¿çš„ç‰ˆæœ¬ã€‚<br>æ¨èåˆ›å»ºä»¥ä¸‹åˆ†æ”¯ï¼š</p><ul><li>master é»˜è®¤åˆ›å»ºçš„åˆ†æ”¯ï¼Œè´Ÿè´£æ›´è¿­æ­£å¼ç‰ˆæœ¬ã€‚</li><li>dev åä½œåˆ†æ”¯ï¼Œå›¢é˜Ÿæˆå‘˜ä¹‹é—´ç›¸äº’åä½œï¼Œæµ‹è¯•ç‰ˆæœ¬æ›´è¿­æƒ…å†µå°†åœ¨æ­¤åˆ†æ”¯çš„æ—¶é—´çº¿ä¸Šä½“ç°ã€‚</li><li>bug bugåˆ†æ”¯ï¼Œä¸€èˆ¬åªåœ¨æœ¬åœ°åº“ï¼Œç”¨äºä¿®æ”¹ç¨‹åºbugã€‚</li><li>feature è®°å½•æ›´è¿­è‡ªå·±æœ¬åœ°æ›´æ”¹çš„ç‰ˆæœ¬ã€‚</li></ul><p>å›¢é˜Ÿåä½œçš„Gitç‰ˆæœ¬åº“åˆ†æ”¯ç¤ºæ„å›¾ï¼ˆå›¾æº<a href="https://www.liaoxuefeng.com/wiki/896043488029600/900005860592480">å»–é›ªå³°å®˜æ–¹ç½‘ç«™</a>ï¼‰:</p><p><img src="1.png" alt=""></p><ol><li><strong>åˆ›å»ºã€æŸ¥çœ‹åˆ†æ”¯</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git checkout -b dev <span class="hljs-comment"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ°devåˆ†æ”¯</span><br>$ git switch -c dec <span class="hljs-comment"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ°devåˆ†æ”¯</span><br><br>$ git checkout master <span class="hljs-comment"># åˆ‡æ¢åˆ°masteråˆ†æ”¯</span><br>$ git switch master <span class="hljs-comment"># åˆ‡æ¢åˆ°masteråˆ†æ”¯</span><br></code></pre></td></tr></tbody></table></figure><p><code>switch</code>å’Œ<code>checkout</code>éƒ½å¯å®ç°åˆ†æ”¯çš„åˆ›å»ºä¸åˆ‡æ¢ï¼Œè€ç‰ˆæœ¬çš„<code>Git</code>ä½¿ç”¨<code>checkout</code>è¿›è¡Œåˆ†æ”¯ç®¡ç†å’Œæ–‡ä»¶æ¢å¤ï¼Œç°åœ¨åˆ†åˆ«ç”±<code>switch</code>å’Œ<code>restore</code>ç®¡ç†ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git branch <span class="hljs-comment"># æŸ¥çœ‹å½“å‰ç‰ˆæœ¬åº“æ‰€æœ‰çš„åˆ†æ”¯</span><br></code></pre></td></tr></tbody></table></figure><blockquote><p>å„ä¸ªåˆ†æ”¯ä¹‹å‰ç®¡ç†çš„ç‰ˆæœ¬æ–‡ä»¶ç›¸äº’ç‹¬ç«‹ï¼Œä¿®æ”¹ä¸€ä¸ªåˆ†æ”¯çš„ç‰ˆæœ¬æ–‡ä»¶ä¸ä¼šå½±å“å¦ä¸€ä¸ªåˆ†æ”¯ã€‚</p></blockquote><ol start="2"><li><strong>åˆå¹¶ã€åˆ é™¤åˆ†æ”¯</strong></li></ol><p><strong>åˆå¹¶åˆ†æ”¯</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git merge dev <span class="hljs-comment"># å°†devåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</span><br></code></pre></td></tr></tbody></table></figure><blockquote><p>å•ç‹¬è°ƒç”¨<code>git merge</code>å‘½ä»¤æ—¶ä¼šé‡‡ç”¨<code>Fast-Forward</code>åˆå¹¶æ¨¡å¼ï¼Œåˆå¹¶å®Œæˆä¹‹åä¼šå°†åˆ†æ”¯<code>dev</code>æ—¶é—´ä¸Šçš„<code>commit</code>æ··åˆåˆ°åˆ†æ”¯<code>master</code>çš„æ—¶é—´çº¿ä¸Šå»ï¼Œæ­¤æ—¶å¦‚æœå®è¡Œç‰ˆæœ¬å›é€€åˆ™ä¼šå›é€€åˆ°<code>dev</code>åˆ†æ”¯æ‰€æäº¤çš„å†…å®¹ï¼Œè€Œä¸æ˜¯ç›®æ ‡<code>master</code>åˆ†æ”¯ä¸Šçš„å†…å®¹ã€‚</p></blockquote><p>ä¸Šè¿°é—®é¢˜çš„è§£å†³åŠæ³•å°±æ˜¯ä½¿ç”¨<code>git merge --no-ff</code>æŒ‡ä»¤ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git merge --no-ff -m <span class="hljs-string">"merge with no fast-forward"</span> dev<br></code></pre></td></tr></tbody></table></figure><p>è¯¥æŒ‡ä»¤å¯ä»¥ä¿ç•™<code>dev</code>åˆ†æ”¯çš„æäº¤ä¿¡æ¯,åœ¨åˆ†æ”¯<code>master</code>ä¸Šè¿›è¡Œç‰ˆæœ¬å›é€€æ—¶ï¼Œå¯ä»¥æ­£ç¡®é€€å›<code>master</code>åˆ†æ”¯ä¸Šçš„ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯<code>dev</code>åˆ†æ”¯ä¸Šçš„ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€‚</p><p><code>no-ff</code>åˆå¹¶æ“ä½œåŒ…å«äº†ä¸€æ¬¡<code>git commit</code>ï¼Œå› æ­¤<code>-m</code>å‚æ•°æ˜¯ä¸ºäº†åŠ ä¸Šæäº¤è¯´æ˜ã€‚</p><blockquote><p>åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå¦‚æœå½“å‰åˆ†æ”¯å’Œè¢«åˆå¹¶çš„åˆ†æ”¯éƒ½åœ¨ä¸Šä¸€ä¸ªç‰ˆæœ¬åŸºç¡€ä¸Šè¿›è¡Œäº†ä¿®æ”¹ï¼Œåˆå¹¶ä¼šå¤±è´¥ã€‚åŒæ—¶å‘ç”Ÿåˆå¹¶å†²çªçš„æ–‡ä»¶ä¾‹å¦‚<code>readme.txt</code>ä¼šè‡ªåŠ¨æ·»åŠ å†…å®¹å‘Šè¯‰æˆ‘ä»¬å‘ç”Ÿå†²çªçš„åœ°æ–¹ï¼Œæ­¤æ—¶éœ€è¦æ‰‹åŠ¨ä¿®æ”¹å†²çªçš„æ–‡ä»¶ã€‚</p></blockquote><p><code>readme.txt</code>å†²çªå‘ç”Ÿåï¼Œæ‰“å¼€æ–‡ä»¶å¯çœ‹åˆ°å¦‚ä¸‹æç¤ºï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">Git is a version control system.<br>balabala...<br>&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="hljs-string">HEAD</span><br><span class="hljs-string">Creating a new branch is quick &amp; simple.</span><br><span class="hljs-string">=======</span><br><span class="hljs-string">Creating a new branch is quick AND simple.</span><br><span class="hljs-string">&gt;&gt;&gt;&gt;&gt;&gt;&gt; dev</span><br></code></pre></td></tr></tbody></table></figure><p>ç„¶åéœ€è¦æ‰‹åŠ¨ä¿®æ”¹<code>readme.txt</code>æ–‡ä»¶ä¸ºï¼š</p><figure class="highlight livecodeserver"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">Git is <span class="hljs-keyword">a</span> <span class="hljs-built_in">version</span> control <span class="hljs-keyword">system</span>.<br>balabala...<br>Creating <span class="hljs-keyword">a</span> <span class="hljs-built_in">new</span> branch is quick <span class="hljs-keyword">and</span> simple.<br></code></pre></td></tr></tbody></table></figure><p>ä¹‹åå†æ‰§è¡Œ<code>git add</code>å’Œ<code>git commit -m</code>æäº¤åˆ°ç‰ˆæœ¬ä»“åº“ï¼Œæ‰‹åŠ¨è§£å†³åˆå¹¶å†²çªã€‚</p><p><strong>åˆ é™¤åˆ†æ”¯</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git branch -d dev <span class="hljs-comment"># åˆ é™¤devåˆ†æ”¯</span><br></code></pre></td></tr></tbody></table></figure><p>å¦‚æœåˆ†æ”¯æœªåˆå¹¶ï¼Œä½¿ç”¨ä¸Šé¢çš„åˆ é™¤æŒ‡ä»¤ä¼šæŠ¥é”™ï¼Œè¿™æ—¶éœ€è¦ä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git branch -D dev <span class="hljs-comment"># åˆ é™¤devåˆ†æ”¯</span><br></code></pre></td></tr></tbody></table></figure><ol start="3"><li><strong>æš‚å­˜å·¥ä½œåŒºçš„ä»»åŠ¡</strong></li></ol><p>å½“é‡åˆ°æ­£åœ¨å†™çš„ä»»åŠ¡æ²¡å†™å®Œï¼Œåˆå‘ç°äº†ä¸€ä¸ªç´§æ€¥ä»»åŠ¡æ—¶ï¼Œéœ€è¦å½“å‰ä»»åŠ¡å…ˆæš‚å­˜èµ·æ¥ï¼Œå…ˆå¤„ç†ç´§æ€¥ä»»åŠ¡ï¼Œå¤„ç†å®Œæˆä¹‹åå†å›åˆ°å½“å‰çš„ä»»åŠ¡ä¸­æ¥ã€‚Gitæä¾›äº†è§£å†³æ–¹æ¡ˆï¼š<code>git stash</code>ã€‚</p><ol><li>å­˜å‚¨å½“å‰çš„ä»»åŠ¡(å‡è®¾åœ¨<code>dev</code>åˆ†æ”¯)</li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git stash<br></code></pre></td></tr></tbody></table></figure><ol start="2"><li>å»åˆ°ç´§æ€¥ä»»åŠ¡çš„åˆ†æ”¯ï¼Œå¤„ç†ç´§æ€¥ä»»åŠ¡</li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git switch master<br>$ git XXX<br>....<br></code></pre></td></tr></tbody></table></figure><ol start="3"><li>å›åˆ°ä¹‹å‰ä»»åŠ¡åˆ†æ”¯ï¼Œæ¢å¤ä»»åŠ¡</li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git switch dev<br>$ git stash list <span class="hljs-comment"># æŸ¥çœ‹è¢«æš‚å­˜çš„æ‰€æœ‰ä»»åŠ¡åˆ—è¡¨</span><br>$ git stash pop <span class="hljs-comment"># æ¢å¤æœ€è¿‘çš„ä¸€ä¸ªæš‚å­˜ä»»åŠ¡</span><br>$ git stash pop stash@{0} <span class="hljs-comment"># æ¢å¤æš‚å­˜çš„æ ‡å·0ä»»åŠ¡ï¼Œæ ‡å·ä»listçš„è¾“å‡ºä¿¡æ¯ä¸­å¾—åˆ°</span><br></code></pre></td></tr></tbody></table></figure><h3 id="4-è¿œç¨‹ä»“åº“æ“ä½œ">4. è¿œç¨‹ä»“åº“æ“ä½œ</h3><hr><ol start="0"><li><strong>é¢„å¤‡å·¥ä½œ</strong></li></ol><p>ç¬¬1æ­¥ï¼šåˆ›å»ºç§é’¥å’Œå…¬é’¥ï¼šæ‰“å¼€<code>Git Bash</code>å‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥ä¸‹åˆ—æŒ‡ä»¤ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ ssh-keygen -t rsa -C <span class="hljs-string">"jayheyang@gmail.com"</span>?<br></code></pre></td></tr></tbody></table></figure><blockquote><p>åœ°å€è®°å¾—æ”¹æˆè‡ªå·±çš„emailï¼ï¼ï¼</p></blockquote><p>åˆ›å»ºå®Œæˆä¹‹åä¼šåœ¨ç”¨æˆ·ç›®å½•ä¸‹ï¼ˆä¾‹å¦‚<code>/c/Users/Administrator</code>ï¼‰æ‰¾åˆ°<code>.ssh</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>ã€‚</p><p>ç¬¬2æ­¥ï¼šæ‰“å¼€GitHubï¼Œç™»é™†ã€‚ç„¶åä¾æ¬¡ç‚¹å‡»ï¼š<code>ç”¨æˆ·å¤´åƒ</code>-&gt;<code>Settings</code>-&gt;å·¦ä¾§è¾¹æ çš„<code>SSH and GPG keys</code>-&gt;<code>New SSH key</code>ã€‚</p><p>ç¬¬3æ­¥ï¼šæ‰“å¼€<code>id_rsa.pub</code>æ–‡ä»¶ï¼Œ<code>ctrl A</code>å…¨é€‰ï¼Œ<code>ctrl C</code>å¤åˆ¶ï¼Œ åˆ‡æ¢åˆ°GitHubé¡µé¢ï¼Œ<code>Titleæ </code>éšä¾¿å†™ï¼Œç›¸å½“äºç»™ä½ çš„è¿™ä¸ªå¯†é’¥èµ·åå­—ã€‚ç„¶ååœ¨<code>Keyæ </code>ä¸­ç²˜è´´åˆšæ‰å¤åˆ¶çš„æ–‡æœ¬ã€‚</p><p><strong>é¢„å¤‡å·¥ä½œå®Œæˆã€‚</strong></p><ol><li><p><strong>å…³è”æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“</strong></p><ul><li>åœ¨GitHubä¸Šåˆ›å»ºrepository</li><li>è¿›å…¥åˆ›å»ºçš„repoï¼Œè·å–SSHé“¾æ¥ï¼ˆå½¢å¦‚<code>git@github.com:JayHeYang/learngit.git</code>ï¼‰,æ‰“å¼€<code>Git Bash</code>å¹¶åˆ‡æ¢åˆ°Gitç‰ˆæœ¬åº“ç›®å½•ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤å…³è”ã€‚</li></ul> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git remote add origin git@github.com:JayHeYang/learngit.git<br></code></pre></td></tr></tbody></table></figure><p><code>origin</code>æ˜¯é»˜è®¤çš„è¿œç¨‹ä»“åº“åï¼Œå¯è‡ªè¡Œä¿®æ”¹ã€‚</p></li><li><p><strong>å°†æœ¬åœ°ä»“åº“æ–‡ä»¶<code>push</code>ä¸Šå»</strong></p></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git push -u origin master<br></code></pre></td></tr></tbody></table></figure><p><code>-u</code>çš„ä½œç”¨æ˜¯å°†<code>æœ¬åœ°master</code>åˆ†æ”¯å’Œ<code>è¿œç¨‹master</code>åˆ†æ”¯å…³è”èµ·æ¥ï¼Œåé¢åªéœ€è¦è¿›è¡Œ<code>$ git push origin master</code>æŒ‡ä»¤å³å¯ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git push origin master <span class="hljs-comment"># pushåˆ°è¿œç¨‹ç«¯çš„masteråˆ†æ”¯</span><br>$ git push origin dev <span class="hljs-comment"># pushåˆ°è¿œç¨‹ç«¯çš„devåˆ†æ”¯</span><br></code></pre></td></tr></tbody></table></figure><ol start="3"><li><strong>æŸ¥çœ‹æ‰€å…³è”çš„è¿œç¨‹åº“ï¼Œæˆ–è€…åˆ é™¤ä¸è¿œç¨‹åº“çš„å…³è”</strong></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git remote -v <span class="hljs-comment"># æŸ¥çœ‹å½“å‰æœ¬åœ°ä»“åº“å…³è”çš„è¿œç¨‹åº“</span><br>$ git remote rm origin <span class="hljs-comment"># è§£é™¤ä¸è¿œç¨‹åº“originçš„å…³è”</span><br></code></pre></td></tr></tbody></table></figure><blockquote><p><code>git remote rm</code>æŒ‡ä»¤åªæ˜¯å®Œæˆäº†è§£ç»‘ï¼Œå¦‚æœè¦åˆ é™¤è¿œç¨‹åº“ä¸­çš„æ–‡ä»¶è¿˜å¾—åœ¨GitHubä¸Šä¿®æ”¹ã€‚</p></blockquote><ol start="4"><li><p><strong>ä»è¿œç¨‹ä»“åº“å…‹éš†æ–‡ä»¶</strong></p><p>1.åˆ‡æ¢åˆ°éœ€è¦å­˜å‚¨å…‹éš†æ–‡ä»¶çš„ç›®å½•ï¼š</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mkdir clonetest<br>$ <span class="hljs-built_in">cd</span> clonetest<br></code></pre></td></tr></tbody></table></figure><ol start="2"><li>è·å–éœ€è¦å…‹éš†ä»“åº“çš„SSHè¿æ¥ï¼ˆå½¢å¦‚<code>git@github.com:JayHeYang/learngit.git</code>ï¼‰æ‰§è¡Œ<code>clone</code>æŒ‡ä»¤ã€‚</li></ol> <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">clone</span> git@github.com:JayHeYang/learngit.git<br></code></pre></td></tr></tbody></table></figure><p>å…‹éš†å®Œæˆã€‚</p></li></ol><p>å¦‚æœæ˜¯å…¶ä»–åä½œäººä»è¿œç¨‹ä»“åº“cloneæ—¶é»˜è®¤åªèƒ½çœ‹åˆ°<code>master</code>åˆ†æ”¯ï¼Œå¦‚æœæƒ³è¦åœ¨<code>dev</code>åˆ†æ”¯ä¸Šåšå¼€å‘ï¼Œéœ€è¦åˆ›å»ºè¿œç¨‹<code>origin</code>çš„<code>dev</code>åˆ†æ”¯åˆ°æœ¬åœ°ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤è¡Œï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git checkout -d dev origin/dev <br>æˆ–è€…<br>$ git switch -c dev origin/dev<br></code></pre></td></tr></tbody></table></figure><p>5.<strong>æŠ“å–åˆ†æ”¯å¹¶<code>push</code>ä¸Šå»</strong></p><p>å¤šäººåä½œçš„æµç¨‹æ˜¯ï¼š<br>ç¬¬1æ­¥ï¼šæŒ‰ç…§ä»»åŠ¡è¦æ±‚åœ¨æœ¬åœ°åˆ†æ”¯ä¸Šå®Œæˆä¿®æ”¹ã€‚<br>ç¬¬2æ­¥ï¼šä»è¿œç¨‹ä»“åº“æŠ“å–åˆ†æ”¯ï¼Œåœ¨æœ¬åœ°åˆå¹¶ï¼Œè§£å†³å†²çªã€‚<br>ç¬¬3æ­¥ï¼šå°†æœ¬åœ°åˆ†æ”¯<code>push</code>åˆ°è¿œç¨‹åˆ†æ”¯ä¸Šï¼Œæ›´æ–°è¿›åº¦ã€‚</p><p>éµå¾ªä»¥ä¸‹å‘½ä»¤é¡ºåºï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git switch dev <span class="hljs-comment"># åˆ‡æ¢åˆ°å·¥ä½œåˆ†æ”¯</span><br>æˆ–è€…<br>$ git checkout -d dev origin/dev <span class="hljs-comment"># å°†è¿œç¨‹`origin`çš„`dev`åˆ†æ”¯åˆ›å»ºåˆ°æœ¬åœ°</span><br><br>$ git branch --set-upstream-to=origin/dev dev <span class="hljs-comment"># å°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ç»‘å®š</span><br><br>$ git pull <span class="hljs-comment"># æŠ“å–è¿œç¨‹devåˆ†æ”¯ï¼ˆæŠ“å–å®Œæˆä¹‹åä¼šè‡ªåŠ¨è¿›è¡Œåˆå¹¶ï¼‰</span><br><br>æ‰‹åŠ¨è§£å†³åˆå¹¶å†²çªï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰<br><br>$ git add test.py <span class="hljs-comment"># æ·»åŠ è§£å†³å†²çªåçš„æ–‡ä»¶</span><br><br>$ git commit -m <span class="hljs-string">"fix bug"</span><br><br>$ git push origin dev <span class="hljs-comment"># pushåˆ°è¿œç¨‹åˆ†æ”¯</span><br></code></pre></td></tr></tbody></table></figure><h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h3><hr><p>å»–é›ªå³°çš„Gitçš„æ•™ç¨‹ï¼š<a href="https://www.liaoxuefeng.com/wiki/896043488029600">https://www.liaoxuefeng.com/wiki/896043488029600</a></p><p>Gitå¿«æŸ¥è¡¨ï¼š<a href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.pdf">https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.pdf</a></p><div class="note note-success">            <p><strong>Post author:</strong> jasonyang<br><strong>Copyright Notice:</strong>  All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a> unless stating additionally. è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>          </div>]]></content>
    
    
    <categories>
      
      <category>æ‚è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Simple Online and Realtime Tracking</title>
    <link href="/jasonyang.github.io/2021/09/23/Simple-Online-and-Realtime-Tracking/"/>
    <url>/jasonyang.github.io/2021/09/23/Simple-Online-and-Realtime-Tracking/</url>
    
    <content type="html"><![CDATA[<h2 id="Paper-Note-â€”â€”-Simple-Online-and-Realtime-Tracking">Paper Note â€”â€” Simple Online and Realtime Tracking</h2><h3 id="1-æ–‡çŒ®ç®€ä»‹">1.æ–‡çŒ®ç®€ä»‹</h3><hr><ul><li>ä½œè€…ï¼šAlex Bewleyã€Zongyuan Geã€Lionel Ott</li><li>å…³é”®è¯ï¼šComputer Vision, Multiple Object Tracking, Detection, Data Association</li><li>å¹´ä»½&amp;æœŸåˆŠï¼ˆä¼šè®®ï¼‰åï¼šIEEE 2016</li></ul><h3 id="2-ç»“æ„å’Œå†…å®¹">2. ç»“æ„å’Œå†…å®¹</h3><hr><ol><li>ä»‹ç»ç›®æ ‡è·Ÿè¸ªçš„ä»»åŠ¡æµç¨‹ï¼Œç›®å‰ç®—æ³•å­˜åœ¨çš„é—®é¢˜å’Œæœ¬æ–‡ç®—æ³•çš„ä¼˜åŠ¿</li><li>é˜è¿°ç ”ç©¶èƒŒæ™¯å’Œç°çŠ¶</li><li>ä»‹ç»æ–¹æ³•è®º<ul><li>æ£€æµ‹æ¨¡å‹</li><li>è¿åŠ¨è¯„ä¼°æ¨¡å‹</li><li>æ•°æ®å…³è”</li><li>æ¶ˆå¤±ç›®æ ‡ä¸å…ˆå‡ºç°ç›®æ ‡çš„é”€æ¯ä¸åˆ›å»º</li></ul></li><li>å®éªŒéƒ¨åˆ†</li></ol><h3 id="3-åˆ›æ–°ç‚¹-å®éªŒæˆæœæ±‡æ€»">3.åˆ›æ–°ç‚¹/å®éªŒæˆæœæ±‡æ€»</h3><hr><ol><li>æå‡ºäº†ç«¯åˆ°ç«¯çš„è·Ÿè¸ªæ¨¡å‹ï¼Œè¿ç”¨äº†tracking by detectionçš„æ€æƒ³ï¼ŒæŠŠä¸»è¦å…³æ³¨ç‚¹æ”¾åœ¨äº†assignmentã€‚</li><li>æå‡ºäº†è·Ÿè¸ªé¢†åŸŸçš„baselineã€‚</li><li>è¿ç”¨Kalman filterå’ŒHungarian algorithmè¿›è¡ŒåŒ€é€Ÿæ¨¡å‹ä¼°è®¡å’Œäººç‰©å…³è”ã€‚ï¼ˆcost matrix æ˜¯IOU distanceï¼‰ã€‚</li><li>åœ¨scoreè¾ƒé«˜çš„æƒ…å†µä¸‹è¾¾åˆ°äº†ä¸€ä¸ªé«˜çš„FPSã€‚</li></ol><h3 id="4-éœ€è¦æ”¹è¿›çš„åœ°æ–¹">4.éœ€è¦æ”¹è¿›çš„åœ°æ–¹</h3><hr><ol><li>ä»…ç”¨IOUçš„è·ç¦»åº¦é‡ä¸èƒ½å®Œå…¨è¡¨è¾¾ç›®æ ‡å’Œé¢„æµ‹ä¹‹é—´çš„è”ç³»åº¦ã€‚</li><li>æ£€æµ‹çš„æ¨¡å‹ä¸ç®—ç‰¹åˆ«å…ˆè¿›ï¼ˆå½“æ—¶è¿˜ä¸é”™ï¼Œbackboneåº”è¯¥æ˜¯åœ¨æ€§èƒ½ä¸è¿ç®—é‡ä¹‹é—´å–äº†å¹³è¡¡ï¼‰ã€‚</li><li>æ²¡æœ‰æ•´åˆå…¶ä»–çš„äººä½“ä¿¡æ¯ï¼Œæ— æ³•å¤„ç†è¡Œäººé•¿æ—¶è¢«é®æŒ¡çš„æƒ…å†µã€‚</li></ol><h3 id="5-é‡è¦å†…å®¹æ‘˜å½•">5.é‡è¦å†…å®¹æ‘˜å½•</h3><hr><ul><li><p>æŒ‡æ ‡çš„æè¿°æ–¹æ³•å€¼å¾—å€Ÿé‰´<br><img src="sort1.png" alt=""></p></li><li><p>ç®—æ³•é€Ÿåº¦å’Œæ€§èƒ½çš„äºŒç»´å±•ç¤ºå›¾<br><img src="sort2.png" alt=""></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>ç›®æ ‡è·Ÿè¸ª</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MOT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è§£å†³Hexoæ¡†æ¶ä¸‹Fluidä¸»é¢˜è‡ªå¸¦æœç´¢æ¡†ä¸€ç›´loadingçš„é—®é¢˜</title>
    <link href="/jasonyang.github.io/2021/08/26/%E8%A7%A3%E5%86%B3Hexo%E6%A1%86%E6%9E%B6%E4%B8%8BFluid%E4%B8%BB%E9%A2%98%E6%90%9C%E7%B4%A2%E4%B8%80%E7%9B%B4loading%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/jasonyang.github.io/2021/08/26/%E8%A7%A3%E5%86%B3Hexo%E6%A1%86%E6%9E%B6%E4%B8%8BFluid%E4%B8%BB%E9%A2%98%E6%90%9C%E7%B4%A2%E4%B8%80%E7%9B%B4loading%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1>è§£å†³Hexoæ¡†æ¶ä¸‹Fluidä¸»é¢˜è‡ªå¸¦æœç´¢æ¡†ä¸€ç›´loadingçš„é—®é¢˜</h1><p>æœ€å¼€å§‹æ ¹æ®Fluidä¸»é¢˜åˆ›å»ºä¸ªäººåšå®¢æ—¶å‘ç°æœç´¢æ¡†ä¸€ç›´æ˜¾ç¤ºloadingï¼Œä¸èƒ½è¿›è¡Œæœ¬åœ°æœç´¢ã€‚æœ€å¼€å§‹å°è¯•ç™¾åº¦å’ŒGoogleè§£ç­”æ— æœï¼Œä¾¿æç½®äº†ä¸‹å»ã€‚æœ€è¿‘æœ‰äº†æ—¶é—´ä¾¿å¼€å§‹å°è¯•è§£å†³ï¼Œæœ€ç»ˆä½¿ç”¨äº†ä¸€ç§å¯è¡Œçš„æ–¹æ¡ˆè¾¾åˆ°äº†æœ¬åœ°æœç´¢æ•ˆæœã€‚</p><h2 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h2><p>fluidä¸»é¢˜æ— æ³•æœç´¢çš„é—®é¢˜å¦‚ä¸‹ï¼šå½“ç‚¹å‡»åšå®¢é¡µé¢çš„<strong>æœç´¢</strong>æŒ‰é’®æ—¶ï¼Œæœç´¢é¡µé¢ä¼šä¸€ç›´æ˜¾ç¤º<strong>Loading</strong>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="1.jpg" alt=""></p><h2 id="å¯»æ‰¾åŸå› ">å¯»æ‰¾åŸå› </h2><p>æ‰“å¼€è‡ªå·±çš„åšå®¢æ ¹æ–‡ä»¶å¤¹ï¼Œå¦‚æˆ‘çš„å°±æ˜¯<code>blog</code>ï¼Œç„¶åæ‰“å¼€<code>themes\fluid\_config.yml</code>ï¼Œæ‰¾åˆ°<code>search</code>æ¨¡å—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="2.jpg" alt=""></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æœç´¢ç´¢å¼•çš„æ–‡ä»¶æ˜¯<code>local-search.xml</code>ï¼Œç„¶å‘½ä»¤è¡Œåˆ‡æ¢åˆ°<code>blog</code>ç›®å½•å¯åŠ¨hexoä¸‰è¿å‘ã€‚</p><figure class="highlight sas"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sas">cd blog<br>hexo clean <span class="hljs-variable">&amp;&amp;</span> hexo g <span class="hljs-variable">&amp;&amp;</span> hexo s<br></code></pre></td></tr></tbody></table></figure><p>æ‰“å¼€Chromeæµè§ˆå™¨ï¼Œé€šè¿‡localhosté“¾æ¥æ‰“å¼€åšå®¢ä¸»é¡µï¼Œç„¶åç‚¹å‡»æœç´¢æŒ‰é’®ï¼Œä½¿ç”¨F12æŸ¥çœ‹æŠ¥é”™ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹æŠ¥é”™ã€‚</p><p><img src="3.jpg" alt=""></p><p>å¯ä»¥å‘ç°æ˜¯å› ä¸ºæ‰¾ä¸åˆ°è¿™ä¸ªæœç´¢æ–‡ä»¶å¼•å‘çš„æŠ¥é”™ï¼Œå› æ­¤å°±æœ‰äº†è§£å†³æ–¹æ¡ˆversion1ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆversion1">è§£å†³æ–¹æ¡ˆversion1</h2><p>å› ä¸ºæœç´¢æ¡†ä¸€ç›´loadingçš„åŸå› æ˜¯æ‰¾ä¸åˆ°ç”Ÿæˆçš„<code>.xml</code>æ–‡ä»¶ï¼Œç„¶åå°è¯•åœ¨è‡ªå·±çš„<code>blog</code>æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾<code>local-search.xml</code>æ–‡ä»¶ï¼Œå‘ç°ç¡®å®æœ‰éšç€<code>hexo g</code>å‘½ä»¤ä¸€èµ·ç”Ÿæˆçš„<code>local-search.xml</code>æ–‡ä»¶ï¼Œä½†æ˜¯æ–‡ä»¶å†…éƒ¨å¹¶æ²¡æœ‰åšå®¢çš„å†…å®¹ï¼Œå› æ­¤å³ä½¿æ›´æ¢ä¸ºè¯¥æ–‡ä»¶åŒæ ·æ— æ³•èµ·åˆ°æœç´¢ä½œç”¨ï¼ˆè¿™ä¸ªæœ¬åœ°æœç´¢åŠŸèƒ½æœ¬è´¨ä¸Šå°±æ˜¯æ£€ç´¢<code>.xml</code>æ–‡ä»¶å†…éƒ¨çš„å†…å®¹ï¼Œå› æ­¤æ²¡æœ‰åšå®¢å†…å®¹çš„<code>.xml</code>æ–‡ä»¶èµ·ä¸åˆ°ä»»ä½•æ£€ç´¢ä½œç”¨ï¼‰ã€‚</p><p>æ¥ä¸‹æ¥ä»”ç»†æŸ¥çœ‹<code>blog</code>æ–‡ä»¶å¤¹ï¼Œå‘ç°åœ¨<code>blog\public\</code>æ–‡ä»¶å¤¹å†…ç”Ÿæˆäº†ä¸€ä¸ª<code>search.xml</code>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å«äº†åšå®¢å†…éƒ¨çš„å†…å®¹åº”è¯¥èƒ½èµ·åˆ°æ£€ç´¢ä½œç”¨ã€‚é‚£ä¹ˆï¼Œå¼€å§‹ä¿®æ”¹ï¼åŒæ ·ï¼Œæ‰“å¼€<code>blog\themes\fluid\_config.yml</code>ï¼Œæ‰¾åˆ°<code>search</code>æ¨¡å—ï¼Œæ›´æ”¹pathå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="4.jpg" alt=""></p><p>å†æ¬¡å¯åŠ¨hexoä¸‰è¿å¤§æ³•ï¼Œç„¶åå¯ä»¥çœ‹åˆ°<code>ä¸»é¡µ</code>çš„æœç´¢å·²ç»å¯ä»¥æ­£å¸¸æ£€ç´¢äº†ï¼Œç„¶è€Œå½“ç‚¹å‡»åˆ°<code>åˆ†ç±»</code>dç­‰å…¶ä»–é¡µé¢æ—¶ï¼Œå†ç‚¹å‡»æœç´¢ï¼ŒåŒæ ·è¿˜æ˜¯Loadingã€‚</p><p><img src="5.jpg" alt=""><br><img src="1.jpg" alt=""></p><p>å†æ¬¡ä½¿ç”¨F12æŸ¥çœ‹é—®é¢˜</p><p><img src="6.jpg" alt=""></p><p>å‘ç°å…¨ä½¿ç”¨<code>search.xml</code>ä¹‹ååœ¨è·³è½¬å…¶ä»–é¡µé¢æ—¶Fluidä¼šè‡ªåŠ¨åœ¨åœ°å€ä¸ŠåŠ å…¥é¡µé¢æ ‡ç­¾ï¼Œæ¯”å¦‚åˆ†ç±»é¡µé¢å°±åŠ ä¸Šäº†<code>categories</code>(ä¸»é¡µæ—¶æ˜¯<code>http://localhost:4000/jasonyang.github.io/search.xml</code>ï¼Œè€Œåˆ†ç±»é¡µå˜ä¸ºäº†<code>http://localhost:4000/jasonyang.github.io/categories/search.xml</code>)</p><p>ç„¶åå°±æƒ³åˆ°äº†ä½¿ç”¨ç»å¯¹çš„æ–‡ä»¶ç´¢å¼•åœ°å€ï¼Œç”±æ­¤å†æ¯æ¬¡åˆ‡æ¢é¡µé¢æ—¶æ£€ç´¢æ–‡ä»¶çš„åœ°å€å°±ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆversion2">è§£å†³æ–¹æ¡ˆversion2</h2><p>å› ä¸ºè¿™ä¸ªåšå®¢æ˜¯ä¸ºäº†éƒ¨ç½²åˆ°GitHubä¸Šé¢ï¼Œå› æ­¤è¿™é‡Œå°†<code>blog\themes\fluid\_config.yml</code>ï¼Œæ–‡ä»¶<code>search</code>ç‰ˆå—çš„pathæ›´æ”¹ä¸º<code>åšå®¢é¡¹ç›®çš„åœ°å€</code>+<code>search.xml</code>ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">path: <span class="hljs-regexp">//</span>jayheyang.github.io<span class="hljs-regexp">/jasonyang.github.io/</span>search.xml<br></code></pre></td></tr></tbody></table></figure><p>æœ€å<code>hexo d</code>éƒ¨ç½²åˆ°GitHub Pagesï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="7.jpg" alt=""></p><hr><p>æŒ–ä¸ªå‘ï¼Œ2021å¹´8æœˆ13æ—¥ä¹‹ååœ¨ä½¿ç”¨<code>hexo d</code>éƒ¨ç½²æ—¶ä¼šé‡åˆ°<code>Spawn failed</code>é”™è¯¯ï¼Œç½‘ä¸Šæœç´¢è¯¥é”™è¯¯çš„è§£å†³æ–¹æ³•éƒ½ä¸å¯¹ï¼Œæ”¹å¤©å†è¯´å¦‚ä½•è§£å†³ã€‚</p><div class="note note-success">            <p><strong>Post author:</strong> jasonyang<br><strong>Copyright Notice:</strong>  All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a> unless stating additionally. è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>          </div>]]></content>
    
    
    <categories>
      
      <category>æ‚è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo,Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºHexoå’ŒGitHubæ­å»ºè‡ªå·±çš„åšå®¢ç½‘ç«™</title>
    <link href="/jasonyang.github.io/2021/08/26/%E5%9F%BA%E4%BA%8EHexo%E5%92%8CGitHub%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/"/>
    <url>/jasonyang.github.io/2021/08/26/%E5%9F%BA%E4%BA%8EHexo%E5%92%8CGitHub%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/</url>
    
    <content type="html"><![CDATA[<h3 id="åŸºäºHexoå’ŒGitHubæ­å»ºè‡ªå·±çš„åšå®¢ç½‘ç«™">åŸºäºHexoå’ŒGitHubæ­å»ºè‡ªå·±çš„åšå®¢ç½‘ç«™</h3><p>å•è¾¹è”åŠ¨ï¼ŒåŸºæœ¬æ¡†æ¶æ­å»ºè¯·å‚è€ƒLuo Xuçš„åšå®¢ï¼šç‚¹å‡»<a href="https://ryanluoxu.github.io/2017/11/24/%E7%94%A8-Hexo-%E5%92%8C-GitHub-Pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">è¿™é‡Œ</a>è·³è½¬ã€‚</p><h3 id="ä¸»é¢˜ä½¿ç”¨">ä¸»é¢˜ä½¿ç”¨</h3><p>æœ¬ç¯‡åšå®¢é‡‡ç”¨çš„æ˜¯Fluidä¸»é¢˜ï¼Œä¸»é¢˜çš„ä»“åº“é“¾æ¥å¦‚ä¸‹ï¼š<a href="https://github.com/fluid-dev/hexo-theme-fluid">https://github.com/fluid-dev/hexo-theme-fluid</a></p><p>ä¸»é¢˜çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼š<a href="https://fluid-dev.github.io/hexo-fluid-docs/guide/">https://fluid-dev.github.io/hexo-fluid-docs/guide/</a></p><hr><div class="note note-success">            <p><strong>Post author:</strong> jasonyang<br><strong>Copyright Notice:</strong>  All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a> unless stating additionally. è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>          </div>]]></content>
    
    
    <categories>
      
      <category>æ‚è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åšå®¢æ­å»º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Markdownç®€æ˜“æŒ‡å—</title>
    <link href="/jasonyang.github.io/2021/07/28/Markdown%E7%AE%80%E6%98%93%E6%8C%87%E5%8D%97/"/>
    <url>/jasonyang.github.io/2021/07/28/Markdown%E7%AE%80%E6%98%93%E6%8C%87%E5%8D%97/</url>
    
    <content type="html"><![CDATA[<h1>Markdownç®€æ˜“æŒ‡å—</h1><h2 id="æ–‡æ¡£æ ‡é¢˜">æ–‡æ¡£æ ‡é¢˜</h2><p>æ–‡æ¡£çš„æ ‡é¢˜çº§åˆ«é€šè¿‡<code>#</code>æ•°é‡çš„å¤šå°‘æ¥è¡¡é‡ï¼Œ<code>#</code>å·æ•°é‡è¶Šå¤šåˆ™çº§åˆ«è¶Šå¤§ï¼Œä½†å­—å·è¶Šå°ã€‚æœ€åä¸€ä¸ª<code>#</code>å·å’Œæ ‡é¢˜æ–‡å­—ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œä¸”æ–‡æ¡£æœ€å¤šæ”¯æŒå…­çº§æ ‡é¢˜ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><h3 id="ä¸‰çº§æ ‡é¢˜">ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜">å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜">äº”çº§æ ‡é¢˜</h5><p><img src="1.jpg" alt=""></p><h2 id="åˆ›å»ºåˆ—è¡¨">åˆ›å»ºåˆ—è¡¨</h2><h3 id="åˆ›å»ºæ— åºåˆ—è¡¨">åˆ›å»ºæ— åºåˆ—è¡¨</h3><p>åœ¨è‹±æ–‡è¾“å…¥æ³•ä¸‹ï¼Œé€šè¿‡è¾“å…¥<code>- </code>ç¬¦å·åˆ›å»ºæ— åºåˆ—è¡¨ã€‚</p><ul><li>æ— åºåˆ—è¡¨1</li><li>æ— åºåˆ—è¡¨2</li></ul><h3 id="åˆ›å»ºæœ‰åºåˆ—è¡¨">åˆ›å»ºæœ‰åºåˆ—è¡¨</h3><p>åœ¨è‹±æ–‡è¾“å…¥æ³•ä¸‹ï¼Œé€šè¿‡è¾“å…¥<code>1. </code>æ•°å­—æ ‡è®°åˆ›å»ºæœ‰åºåˆ—è¡¨</p><ol><li>æœ‰åºåˆ—è¡¨1</li><li>æœ‰åºåˆ—è¡¨2</li></ol><p><img src="2.jpg" alt=""></p><h3 id="åˆ—è¡¨åµŒå¥—">åˆ—è¡¨åµŒå¥—</h3><p>å†å®Œæˆä¸€ç§åˆ—è¡¨çš„åˆ›å»ºä¹‹åå›è½¦ä¸‹ä¸€è¡Œï¼ˆå¯èƒ½éœ€è¦åˆ é™¤æ‰ä¸‹ä¸€è¡Œè‡ªåŠ¨æ·»åŠ çš„åŒçº§åˆ—è¡¨æ ‡è®°ï¼‰ï¼Œé”®å…¥<code>Tap</code>åˆ›å»ºåµŒå¥—åˆ—è¡¨ï¼ŒåµŒå¥—åˆ—è¡¨çš„ç±»å‹ç”±<code>Tap</code>åè¾“å…¥çš„<code>- </code>æˆ–è€…<code>1. </code>ç¬¦å·å†³å®šã€‚</p><ol><li>æœ‰åºåˆ—è¡¨1<ul><li>æ— åºåˆ—è¡¨1.1</li><li>æ— åºåˆ—è¡¨1.2</li></ul></li><li>æœ‰åºåˆ—è¡¨2<ol><li>æœ‰åºåˆ—è¡¨2.1</li><li>æœ‰åºåˆ—è¡¨2.2</li></ol></li></ol><p><img src="3.jpg" alt=""></p><h3 id="åˆ›å»ºä»»åŠ¡æ¸…å•åˆ—è¡¨">åˆ›å»ºä»»åŠ¡æ¸…å•åˆ—è¡¨</h3><p>åœ¨è‹±æ–‡è¾“å…¥æ³•ä¸‹é€šè¿‡é”®å…¥<code>- [ ] </code>åˆ›å»ºæœªå®Œæˆçš„ä»»åŠ¡æ¸…å•ï¼›é€šè¿‡é”®å…¥<code>- [x] </code>åˆ›å»ºå·²å®Œæˆçš„ä»»åŠ¡æ¸…å•ã€‚ä»»åŠ¡æ¸…å•åŒæ ·å¯ä»¥åµŒå¥—ï¼Œæ–¹æ³•åŒæ ·æ˜¯åˆ©ç”¨<code>Tap</code>ç¼©è¿›å†³å®šåµŒå¥—çº§åˆ«ï¼Œç„¶åé€šè¿‡è§„å®šç¬¦å·æ ‡è®°ç¡®å®šåµŒå¥—åˆ—è¡¨çš„ç±»å‹ã€‚</p><ul><li>[ ] è¿™æ˜¯ä¸€ä¸ªæœªå®Œæˆçš„ä»»åŠ¡ï¼šé”»ç‚¼<ol><li>æ‰‹è‡‚è‚Œè‚‰é”»ç‚¼</li><li>ç¯®çƒæŠ€å·§è”ç³»</li></ol></li></ul><div>            <input type="checkbox" disabled="" checked="checked">è¿™æ˜¯ä¸€ä¸ªå·²å®Œæˆçš„ä»»åŠ¡ï¼šåˆ·Bç«™          </div><div>            <input type="checkbox" disabled="" checked="checked">æœ¨é±¼æ°´å¿ƒçš„è§†é¢‘          </div><div>            <input type="checkbox" disabled="" checked="checked">ä½•åŒå­¦çš„è§†é¢‘          </div><p><img src="4.jpg" alt=""></p><h2 id="åˆ›å»ºåˆ†å‰²çº¿">åˆ›å»ºåˆ†å‰²çº¿</h2><p>å¯ä»¥å‘ç°åœ¨åˆ›å»ºæ–‡æ¡£æ ‡é¢˜æ—¶ï¼Œä¸€äºŒçº§æ ‡é¢˜ä¸‹é¢ä¼šè‡ªåŠ¨å­˜åœ¨åˆ†å‰²çº¿ï¼Œè€Œå…¶ä»–çš„æ ‡é¢˜ä¸‹é¢æ²¡æœ‰åˆ†å‰²çº¿ï¼Œè€Œé€šè¿‡ä¸‰ä¸ªä»¥ä¸Šçš„<code>*</code>æˆ–è€…<code>-</code>ç¬¦å·å¯ä»¥æ‰‹åŠ¨åˆ›å»ºåˆ†å‰²çº¿ã€‚</p><hr><hr><p><img src="5.jpg" alt=""></p><h2 id="åˆ›å»ºè¡¨æ ¼">åˆ›å»ºè¡¨æ ¼</h2><p>åœ¨è‹±æ–‡è¾“å…¥æ³•ä¸‹ï¼Œé€šè¿‡<code>|</code>å’Œ<code>-</code>çš„ç»„åˆå¯ä»¥åˆ›å»ºè¡¨æ ¼ã€‚</p><table><thead><tr><th>è¡¨å¤´1</th><th>è¡¨å¤´2</th><th>è¡¨å¤´3</th></tr></thead><tbody><tr><td>å†…å®¹1</td><td>å†…å®¹2</td><td>å†…å®¹3</td></tr><tr><td>å†…å®¹1</td><td>å†…å®¹2</td><td>å†…å®¹3</td></tr></tbody></table><table><thead><tr><th>åºå·</th><th>æ ‡é¢˜</th><th>ç½‘å€</th></tr></thead><tbody><tr><td>01</td><td>ç™¾åº¦</td><td><a href="https://www.baidu.com">https://www.baidu.com</a></td></tr><tr><td>02</td><td>è°·æ­Œ</td><td><a href="https://www.google.com">https://www.google.com</a></td></tr></tbody></table><p><img src="6.jpg" alt=""></p><h3 id="è¡¨æ ¼çš„å¯¹é½æ ¼å¼">è¡¨æ ¼çš„å¯¹é½æ ¼å¼</h3><p>é€šè¿‡åœ¨<code>----</code>ä¸¤å¤©æ·»åŠ è‹±æ–‡å†’å·å¯ä»¥æŒ‡å®šè¡¨æ ¼æ¯åˆ—çš„å¯¹é½æ–¹å¼ï¼Œ<code>:----</code>ã€<code>:----:</code>å’Œ<code>----:</code>åˆ†åˆ«è¡¨ç¤ºå·¦å¯¹é½ã€å±…ä¸­å¯¹é½å’Œå³å¯¹é½ã€‚</p><table><thead><tr><th style="text-align:left">åºå·ï¼ˆå·¦å¯¹é½ï¼‰</th><th style="text-align:center">æ ‡é¢˜ï¼ˆå±…ä¸­å¯¹é½ï¼‰</th><th style="text-align:right">ç½‘å€ï¼ˆå³å¯¹é½ï¼‰</th></tr></thead><tbody><tr><td style="text-align:left">01</td><td style="text-align:center">ç™¾åº¦</td><td style="text-align:right"><a href="https://www.baidu.com">https://www.baidu.com</a></td></tr><tr><td style="text-align:left">02</td><td style="text-align:center">è°·æ­Œ</td><td style="text-align:right"><a href="https://www.google.com">https://www.google.com</a></td></tr></tbody></table><p><img src="7.jpg" alt=""></p><h2 id="æ’å…¥å›¾ç‰‡">æ’å…¥å›¾ç‰‡</h2><p>é€šè¿‡<code>![å›¾ç‰‡æè¿°](å›¾ç‰‡ç½‘å€)</code>åœ¨æ–‡æ¡£ä¸­æ’å…¥å›¾ç‰‡ï¼Œå›¾ç‰‡ç½‘å€å¯ä»¥æ˜¯æœ¬åœ°åœ°å€ä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œå›¾ç‰‡åœ°å€ï¼Œå›¾ç‰‡æè¿°å¯ä»¥çœç•¥ã€‚</p><p><img src="markdown_logo.png" alt="Markdown Logo"></p><p><img src="8.jpg" alt=""></p><h2 id="æ’å…¥é“¾æ¥">æ’å…¥é“¾æ¥</h2><p>é€šè¿‡<code>[é“¾æ¥è¯´æ˜](ç½‘å€é“¾æ¥)</code>åœ¨æ–‡æ¡£ä¸­æ’å…¥ç½‘å€è¿æ¥ï¼Œä¸€èˆ¬æ¥è¯´é“¾æ¥è¯´æ˜ä¸èƒ½çœç•¥ã€‚</p><p><a href="https://www.baidu.com/">ç™¾åº¦</a></p><p><a href="https://www.google.com/">è°·æ­Œ</a></p><p><a href="https://www.github.com/">GitHub</a></p><p><img src="9.jpg" alt=""></p><h3 id="å¤šæ¬¡å¼•ç”¨åŒä¸€ä¸ªç½‘å€ï¼Œå¯ä»¥ä¸ºç½‘å€æŒ‡å®šç´¢å¼•æ ‡ç­¾">å¤šæ¬¡å¼•ç”¨åŒä¸€ä¸ªç½‘å€ï¼Œå¯ä»¥ä¸ºç½‘å€æŒ‡å®šç´¢å¼•æ ‡ç­¾</h3><p>é€šè¿‡<code>[ç´¢å¼•æ ‡ç­¾]:ç½‘å€è¿æ¥</code>åˆ›å»ºç½‘å€çš„ç´¢å¼•æ ‡ç­¾ï¼Œç„¶ååœ¨ä½¿ç”¨<code>[é“¾æ¥è¯´æ˜][ç´¢å¼•æ ‡ç­¾]</code>ç´¢å¼•ç½‘å€ã€‚</p><p>è¿™é‡Œæ˜¯æˆ‘ä»¬å¸¸ç”¨çš„å‡ ä¸ªç½‘å€è¿æ¥ï¼š <a href="https://www.google.com/">è°·æ­Œ</a> ã€<a href="https://www.baidu.com/">ç™¾åº¦</a>å’Œ <a href="https://www.github.com/">GitHub</a></p><p><img src="10.jpg" alt=""></p><h3 id="æ’å…¥ç›®å½•é”šç‚¹ï¼ˆå®ç°æ–‡ç« å†…éƒ¨ç‚¹å‡»è·³è½¬ï¼‰">æ’å…¥ç›®å½•é”šç‚¹ï¼ˆå®ç°æ–‡ç« å†…éƒ¨ç‚¹å‡»è·³è½¬ï¼‰</h3><p>é€šè¿‡<code>[ç›®å½•åç§°](#ç´¢å¼•æ ‡ç­¾)</code>ç”Ÿæˆç›®å½•é”šç‚¹ï¼Œç´¢å¼•æ ‡ç­¾å¿…é¡»å’Œè¦è·³è½¬çš„æ ‡é¢˜ç« èŠ‚åç§°å¯¹åº”ï¼ˆæ³¨ï¼šè¯¥æ–¹æ³•åªèƒ½è·³è½¬åˆ°æ–‡æ¡£æ ‡é¢˜å¼€å¤´å¤„ï¼Œæ­£æ–‡ä¸èƒ½è·³è½¬ï¼‰ã€‚å¦‚æœå›¾æ–¹ä¾¿ç”Ÿæˆæ–‡æ¡£ç›®å½•çš„è¯å¯ä»¥ç›´æ¥é‡‡ç”¨<code>[TOC]</code>å‘½ä»¤ç”Ÿæˆå½“å‰æ–‡æ¡£çš„ç›®å½•ã€‚</p><p>ç›®æ ‡æ£€æµ‹å…¥é—¨ç®—æ³•ï¼š</p><ul><li><a href="#YOLO%E7%AE%97%E6%B3%95%E7%AE%80%E4%BB%8B">YOLO</a></li><li>[Faster R-CNN](#Faster R-CNNç®—æ³•ç®€ä»‹)</li><li><a href="#SSD%E7%AE%97%E6%B3%95%E7%AE%80%E4%BB%8B">SSD</a></li></ul><h4 id="YOLOç®—æ³•ç®€ä»‹">YOLOç®—æ³•ç®€ä»‹</h4><h4 id="Faster-R-CNNç®—æ³•ç®€ä»‹">Faster R-CNNç®—æ³•ç®€ä»‹</h4><h4 id="SSDç®—æ³•ç®€ä»‹">SSDç®—æ³•ç®€ä»‹</h4><p><img src="11.jpg" alt=""></p><h4 id="å¿«æ·ç”Ÿæˆç›®å½•">å¿«æ·ç”Ÿæˆç›®å½•</h4><p>[TOC]</p><h2 id="æ’å…¥ä»£ç å—">æ’å…¥ä»£ç å—</h2><h3 id="æ’å…¥è¡Œå†…ä»£ç ">æ’å…¥è¡Œå†…ä»£ç </h3><p>é€šè¿‡ä½¿ç”¨æˆå¯¹çš„å·¦ä¸Šæ’‡å·ï¼ˆ`ï¼‰æ’å…¥è¡Œå†…ä»£ç ã€‚</p><p>å°±å¦‚<code>train_func</code>æ‰€ç¤ºï¼Œå·´æ‹‰å·´æ‹‰â€¦</p><h3 id="æ’å…¥æ•´æ®µä»£ç å—">æ’å…¥æ•´æ®µä»£ç å—</h3><p>é€šè¿‡ä½¿ç”¨æˆå¯¹çš„ä¸‰ä¸ªå·¦ä¸Šæ’‡å·ï¼ˆ`ï¼‰åœ¨æ–‡æ¡£ä¸­æ’å…¥ä»£ç å—ï¼ŒåŒæ—¶åœ¨ç¬¬ä¸€ç»„å·¦ä¸Šæ’‡å·çš„åé¢è¾“å…¥ä»£ç å—ä½¿ç”¨çš„è„šæœ¬è¯­è¨€ä¾‹å¦‚pythonã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_func</span>()</span><br><span class="hljs-function"><span class="hljs-title">print</span>(<span class="hljs-params"><span class="hljs-string">'hello, world!'</span></span>)</span><br></code></pre></td></tr></tbody></table></figure><p><img src="12.jpg" alt=""></p><h2 id="æ’å…¥å…¬å¼">æ’å…¥å…¬å¼</h2><p>åˆ†æ•°ï¼š$$ f(x,y) = \frac{x^2}{y^3} $$</p><p>çœç•¥å·ï¼š$$ f(x_1, x_2, \ldots, x_n) = x_1 + x_2 + \cdots + x_n $$</p><p><img src="13.jpg" alt=""></p><h2 id="æ ‡è®°å¼•ç”¨æ®µè½">æ ‡è®°å¼•ç”¨æ®µè½</h2><p>æŸå‡ å¥è¯æˆ–è€…ä¸€å¥è¯éœ€è¦ç‰¹åˆ«æ ‡æ³¨æ˜¯å¯ä»¥é‡‡ç”¨â€œå¼•ç”¨â€æ ·å¼ï¼Œä½¿ç”¨æ–¹æ³•æ˜¯åœ¨éœ€è¦å¼•ç”¨çš„æ–‡å­—å‰é¢æ·»åŠ <code>&gt; </code>ç¬¦å·ã€‚</p><blockquote><p>è¿™å¥è¯å¾ˆé‡è¦ï¼Œå¼•ç”¨èµ·æ¥ã€‚</p></blockquote><h3 id="å¯ä»¥åµŒå¥—å¼•ç”¨">å¯ä»¥åµŒå¥—å¼•ç”¨</h3><blockquote><p>è¿™æ˜¯ç¬¬ä¸€çº§å¼•ç”¨ã€</p><blockquote><p>è¿™æ˜¯ç¬¬äºŒçº§å¼•ç”¨</p><blockquote><p>è¿™æ˜¯ç¬¬ä¸‰çº§å¼•ç”¨</p></blockquote></blockquote></blockquote><p><img src="14.jpg" alt=""></p><h2 id="å¸¸ç”¨æ ‡è®°">å¸¸ç”¨æ ‡è®°</h2><p>ä¸‹é¢ä»‹ç»æ­£æ–‡çš„ä¸€äº›å¤„ç†æ ·å¼åŒ…æ‹¬ç²—ä½“ã€æ–œä½“ã€åˆ é™¤çº¿ã€æ–‡æœ¬é«˜äº®ã€ä¸‹åˆ’çº¿ã€ä¸Šä¸‹æ ‡ç­‰ç­‰ã€‚</p><p><strong>ç²—ä½“</strong>ã€<em>æ–œä½“</em>ã€==é«˜äº®==ã€<s>åˆ é™¤çº¿</s>ã€<u>ä¸‹åˆ’çº¿</u>ã€æˆ‘æ˜¯^ä¸Šæ ‡^ã€æˆ‘æ˜¯~ä¸‹æ ‡~</p><p><img src="15.jpg" alt=""></p><h3 id="è½¬ä¹‰ç¬¦å·">è½¬ä¹‰ç¬¦å·</h3><p>å› ä¸ºåœ¨Markdownä¸­æ˜Ÿå·ã€åŠ å‡å·ã€æ‹¬å·ç­‰éƒ½æœ‰ç›¸åº”çš„æŒ‡ç¤ºä½œç”¨ï¼Œå› æ­¤å¦‚æœéœ€è¦å±•ç¤ºä½¿ç”¨è¿™äº›ç¬¦å·æœ¬èº«æ˜¯éœ€è¦ç”¨åˆ°è½¬ä¹‰å­—ç¬¦<code>\</code>ã€‚</p><p>\<br>â€™<br>*<br>_<br>{}<br>[]<br>()<br>+<br>.<br>!</p><p><img src="16.jpg" alt=""></p><h3 id="æ’å…¥emojiè¡¨æƒ…">æ’å…¥emojiè¡¨æƒ…</h3><p>æ’å…¥emojiè¡¨æƒ…çš„æ–¹æ³•å¦‚ä¸‹ï¼Œå³åœ¨æˆå¯¹çš„<code>:</code>ä¸­é—´å¡«å…¥è¡¨æƒ…å¯¹åº”çš„è‹±æ–‡åç§°å³å¯ã€‚</p><p><span class="github-emoji"><span>ğŸ¥¶</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f976.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><br><span class="github-emoji"><span>ğŸ¥µ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f975.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><br><span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><br><span class="github-emoji"><span>ğŸ˜†</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f606.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><br><span class="github-emoji"><span>ğŸ‘</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f44f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><p>æ›´å¤šè¡¨æƒ…ç¬¦å·è¯·å‚è€ƒè¿™ä¸ª<a href="https://www.einsition.com/tools/emojicheatsheet">é“¾æ¥</a></p><p><img src="17.jpg" alt=""></p><h2 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</h2><p>é€šå¸¸åœ¨æ­£æ–‡ä¸åˆ—è¡¨é¡¹ã€è¡¨æ ¼é¡¹ã€æ–‡æ¡£æ ‡é¢˜ä¹‹é—´éƒ½éœ€è¦ç•™æœ‰ç©ºè¡Œã€‚</p><hr><div class="note note-success">            <p><strong>Post author:</strong> jasonyang<br><strong>Copyright Notice:</strong>  All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a> unless stating additionally. è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>          </div>]]></content>
    
    
    <categories>
      
      <category>æ‚è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ </title>
    <link href="/jasonyang.github.io/2021/07/22/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    <url>/jasonyang.github.io/2021/07/22/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®ºæ–‡æ€»ç»“</title>
    <link href="/jasonyang.github.io/2021/07/22/%E8%AE%BA%E6%96%87%E6%80%BB%E7%BB%93/"/>
    <url>/jasonyang.github.io/2021/07/22/%E8%AE%BA%E6%96%87%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡æ€»ç»“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®ºæ–‡æ€»ç»“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›¾åƒåˆ†å‰²</title>
    <link href="/jasonyang.github.io/2021/07/22/%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2/"/>
    <url>/jasonyang.github.io/2021/07/22/%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>å›¾åƒåˆ†å‰²</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å›¾åƒåˆ†å‰²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç›®æ ‡è·Ÿè¸ª</title>
    <link href="/jasonyang.github.io/2021/07/22/%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA/"/>
    <url>/jasonyang.github.io/2021/07/22/%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>ç›®æ ‡è·Ÿè¸ª</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç›®æ ‡è·Ÿè¸ª</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç›®æ ‡æ£€æµ‹</title>
    <link href="/jasonyang.github.io/2021/07/22/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"/>
    <url>/jasonyang.github.io/2021/07/22/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>ç›®æ ‡æ£€æµ‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç›®æ ‡æ£€æµ‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCodeé¢˜ç›®ç§¯ç´¯</title>
    <link href="/jasonyang.github.io/2021/07/22/LeetCode%E9%A2%98%E7%9B%AE%E7%A7%AF%E7%B4%AF/"/>
    <url>/jasonyang.github.io/2021/07/22/LeetCode%E9%A2%98%E7%9B%AE%E7%A7%AF%E7%B4%AF/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LeetCode</tag>
      
    </tags>
    
  </entry>
  
  
  
  
  
  
  <entry>
    <title>about</title>
    <link href="/jasonyang.github.io/"/>
    <url>/jasonyang.github.io/</url>
    
    <content type="html"><![CDATA[<p>Hello å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Jason Yangï¼Œç›®å‰åœ¨ç”µå­ç§‘æŠ€å¤§å­¦è¯»ç ”ç©¶ç”Ÿï¼Œç ”ç©¶æ–¹å‘æ˜¯æ¨¡å¼è¯†åˆ«ã€‚</p><p>è¿™ä¸ªåšå®¢ä¸»è¦ç”¨äºè®°å½•å’Œç§¯ç´¯å­¦ä¹ è·¯ä¸Šçš„çŸ¥è¯†ã€ç»éªŒï¼Œä»¥æ±‚å½¢æˆç³»ç»Ÿçš„ä½“ç³»ï¼Œä¹Ÿä¾¿äºä»¥åå¿˜è®°æ—¶åŠæ—¶å¤ä¹ å·©å›ºã€‚</p><p>æœ‰æ—¶ä¹Ÿä¼šåˆ†äº«ä¸€äº›è¯»ä¹¦æˆ–è§‚å½±ç¬”è®°ï¼ˆå¦‚æœç ”ç©¶ç”Ÿæœ‰æ—¶é—´çœ‹è¯¾å¤–ä¹¦çš„è¯<span class="github-emoji"><span>ğŸ˜‚</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f602.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼‰ï¼Œå…ˆå°±è¿™æ ·å§<span class="github-emoji"><span>ğŸ˜‰</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f609.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>]]></content>
    
  </entry>
  
  
  
</search>
